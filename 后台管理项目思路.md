# ğŸ€day10

## å…­ : åå°ç®¡ç†é¡¹ç›®æ¼”ç¤º

> å‡†å¤‡ :å¼€å¯æœåŠ¡å™¨+æ•°æ®åº“

**vue é¡¹ç›®å­¦ä»€ä¹ˆ?**

1. å¦‚ä½•ä½¿ç”¨ vue é…åˆè„šæ‰‹æ¶å·¥å…·æ¥å®Œæˆä¸€ä¸ªé¡¹ç›®
2. å­¦ä¹  ElementUI ç»„ä»¶åº“çš„ä½¿ç”¨
3. ä¸šåŠ¡

- 3.1 ç™»å½•å’Œé€€å‡º
- 3.2 ç”¨æˆ·+è§’è‰²+æˆæƒ+èœå•
- 3.3 å•†å“æ¨¡å—;



## ä¸ƒ : å¼€å¯æœ¬åœ°æœåŠ¡å™¨

**ç”»å›¾ :** æ¥å£è®¿é—®è·¯å¾„ :
å‰ç«¯é¡µé¢ ===> æ¥å£æœåŠ¡å™¨ ===> æ•°æ®åº“æœåŠ¡å™¨ ==> æ•°æ®åº“

### ç¬¬ä¸€å°æ­¥ : æ‰“å¼€ : æ•°æ®åº“æœåŠ¡å™¨

> æ‰“å¼€ `phpStudy` ,ç‚¹å‡»`å¯åŠ¨`

### ç¬¬äºŒå°æ­¥ : å¯¼å…¥æ•°æ®åº“

1. æ‰“å¼€ `navicat`

2. ç‚¹å‡»`è¿æ¥` : åˆ›å»ºä¸€ä¸ª`MySQL`è¿æ¥

3. ç”¨æˆ·åå’Œå¯†ç  : root-root(ä¸èƒ½ä¹±å†™) è¿™ä¸ªæ˜¯å’Œ config é‡Œçš„é…ç½®ä¸€æ ·çš„

4. åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ : `shop_admin` ä¸è¦ä¹±å†™, é€‰æ‹©å€’æ•°æ‰¾åˆ° unt-8

5. åŒå‡»æ‰“å¼€æ•°æ®åº“

6. å¯¼å…¥ `sqlè¯­å¥` => å³é”®è¿è¡Œ SQL æ–‡ä»¶ => shop-api æœ€åä¸€ä¸ª sql æ–‡ä»¶

   > å¦‚æœæ²¡æœ‰ååº” : è¡¨ => å³é”®åˆ·æ–°

### ğŸ™ƒç¬¬ä¸‰å°æ­¥ : å¼€å¯æ¥å£æœåŠ¡å™¨

1. æ‰“å¼€ `shop-api`
2. è¿è¡Œ `npm start`
3. æ˜¾ç¤ºæˆåŠŸ : `API æ¥å£æœåŠ¡å¯åŠ¨æˆåŠŸï¼Œå ç”¨ç«¯å£ 8888`

### ç¬¬å››å°æ­¥ : æµ‹è¯•æ¥å£

```js
http://localhost:8888/api/private/v1/login?username=admin&password=123456

é¡¹ç›®ä½¿ç”¨æ¥å£ : (è®°å¾—ä¿å­˜)
// shop-apié‡Œé¢æœ‰
```

### ç¬¬äº”å°æ­¥ : ä½¿ç”¨

- æ¯å¤©åšé¡¹ç›®ä¹‹å‰ :
- 1. æ¯æ¬¡éƒ½è¦å…ˆå¼€å¯ `phpStudy` ä¸­çš„ `mySql`
- 1. æ¯æ¬¡éƒ½è¦æ‰“å¼€`shop-api` , è¿è¡Œ `npm start`



## å…« : ES6çš„æ¨¡å—è¯­æ³• (åŸºäºwebpackåŸºç±»æ¼”ç¤º)

## 8.1 :  export default é»˜è®¤å¯¼å‡ºä¸€ä¸ªæ¨¡å— ( ç®€å•ç±»å‹ + å¤æ‚ç±»å‹ )

### å¯¼å‡º : export default

```js
#  
# é»˜è®¤ åªèƒ½`å¯¼å‡ºä¸€ä¸ª`
let str = 'abc'
let num = 20;
let obj = { name :'zs' }

export default num
// export default obj
```



### å¼•å…¥ : import

```js
# å¯¼å…¥çš„åå­—å¯ä»¥ä»»æ„
import res from './a.js'
console.log(res)
```


## 8.2  export å¯¼å‡ºå¤šä¸ªæ¨¡å—, éƒ½æ”¾åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œ

### å¯¼å‡º :  export 

- ```js
  // é€»è¾‘æ¨¡å— 
  // ç™»å½•ä¸€ä¸ªå‡½æ•°
  export let login = () =>  {
    console.log('ç™»å½•');
  }
  // æ³¨å†Œä¸€ä¸ªå‡½æ•°
  export let register = () =>  {
    console.log('æ³¨å†Œ');
  }
  
  ```




### å¯¼å…¥ : import   è§£æ„

```js
 # æ–¹å¼1
import * as res from './a'
console.log(res);
res.login()
res.register()
#### æ–¹å¼2
import { login, register as reg } from './a'
login()
register()
```
#### 8.3 import æ¨¡å—

```js
import axios from 'axios';
```



# é¡¹ç›®æ€è·¯

#### ä¸€.åˆå§‹åŒ–vueé¡¹ç›®

æ‰“å¼€powershellçª—å£:è¾“å…¥vue init webpack shop_admin

æ¸…é™¤ä¸è¦åŠ¨ä¸œè¥¿(logoå’Œhello worldç»„ä»¶)

#### äºŒ.æ‰‹åŠ¨é…ç½®è·¯ç”±

```js
å®‰è£…:npm i vue-router;

åœ¨srcæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªrouteræ–‡ä»¶å¤¹ ,ä¸‹é¢å»ºä¸€ä¸ªrouter.js

è·¯ç”±çš„å‡†å¤‡å·¥ä½œ:

1.å¼•å…¥ import VueRouter from 'vue-router'

2.å®ä¾‹åŒ– const router = new VueRouter( )

3.å¯¼å‡ºè·¯ç”±  export default router;

ä¹‹ååœ¨main.jsä¸­å¼•å…¥è·¯ç”±;

å¼•å…¥ä¹‹åå¹¶ä¸”æŒ‚è½½ï¼ˆæ³¨æ„ï¼šå†™åœ¨main.jsé‡Œçš„el:'#app'ä¸‹é¢;ï¼‰ï¼›


# æ³¨æ„:
vue-router å’Œvuex åœ¨æ¨¡å—åŒ–(æŠŠä»–ä»¬å•ç‹¬æåˆ°ä¸€ä¸ªjsæ–‡ä»¶é‡Œ)å·¥ç¨‹ä¸­,è®°å¾—`éœ€è¦ä½¿ç”¨vue å®‰è£…ä¸€ä¸‹è·¯ç”±åŠŸèƒ½`;

1.å…ˆåœ¨router.jsä¸­å¼•å…¥ import Vue form 'vue' ;

2.å†åœ¨router.jsä¸­å®‰è£… Vue.use(VueRouter);

3.å¹¶ä¸”åœ¨main.jsä¸­å¼•å…¥è·¯ç”±;å¹¶æŒ‚è½½;

```



#### ä¸‰:åˆ›å»ºä¸¤ä¸ªå­ç»„ä»¶å¹¶ä¸”é…ç½®è·¯ç”±

**åˆ›å»ºç»„ä»¶**: 

```
componentsæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºï¼š

åœ¨loginæ–‡ä»¶ä¸‹å»ºä¸€ä¸ªlogin.vue;

åœ¨ Homeæ–‡ä»¶å¤¹ä¸‹å»ºä¸€ä¸ªhome.vue;

```



##### åœ¨router.jsé‡Œ

1.**å…¥å£**:  urlæ‰‹åŠ¨å†™

2.**è§„åˆ™**:

```js
routes:[
	{path...},    //é‡å®šå‘
    {path:'/login', component:Login},
    {path:'/home', component:Home}
    
]
```



3.**ç»„ä»¶:**æŠŠåˆ†ç»„ä»¶å¼•å…¥å³å¯

4.**å‡ºå£**:æ”¾åœ¨æ ¹ç»„ä»¶App.vueæ ¹ç»„ä»¶é‡Œé¢å†™;

### Element-uiç»„ä»¶åº“:

æ˜¯ä¸€ä¸ªåŸºäºvue2.0ç‰ˆæœ¬çš„ç»„ä»¶åº“;

**å®‰è£…**: npm i  element-ui -S  (-Då¼€å‘é˜¶æ®µéœ€è¦,å‘å¸ƒé˜¶æ®µä¸éœ€è¦);

**å¼•å…¥element**:åœ¨main.jsä¸­ 

import ElementUI from 'element-ui';

..css

æ³¨æ„:ä¹Ÿéœ€è¦å®‰è£…ä¸€ä¸‹Vue.use(Element.ui)

templateé‡Œé¢åªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´  ;



**loginç™»é™†é¡µ:**

**åœ¨ç»„ä»¶åº“é‡Œæ‰¾ä¸€ä¸ªè¡¨å•ç»„ä»¶:**

1.æ‹·è´ç»“æ„æ”¾åœ¨login.vueé‡Œçš„templateæ¨¡æ¿é‡Œ;

2.æ‹·è´jsæ”¾åœ¨login.vueé‡Œçš„scripté‡Œé¢;

æ³¨æ„:

` prop = 'username'`æ˜¯åœ¨åé¢æ ¡éªŒruleç”¨åˆ°çš„;



äº”:è¡¨å•

### å…­:å‘é€è¯·æ±‚ ç™»é™†

æ¥å£(æœ¬åœ°æœåŠ¡å™¨)

è¯·æ±‚å·¥å…·:axios

â€‹	å®‰è£…:

â€‹	å¼•å…¥:

â€‹	ä½¿ç”¨: æ¥å£åœ°å€è·¯å¾„éœ€è¦åœ¨å‰é¢æ‹¼æ¥åŸºå‡†åœ°å€:

```js
axios.post('http://localhost:8888/api/private/v1/login',this.ruleForm)
        .then(res => {
          console.log(res);
          if(res.data.meta.status===200) {
             //1. ç™»å½•æˆåŠŸæç¤º
              this.$message({
                message: res.data.meta.msg,
                type: "success",
                duration: 800
              });
              //2. è·³è½¬åˆ°homeé¡µé¢ (ç¼–ç¨‹å¼å¯¼èˆª)
              this.$router.push('/home')
          }
        })
      })
```





```js
# æç¤ºä¿¡æ¯:
å½“ç‚¹å‡»ç™»é™†ä¹‹åï¼Œæ˜¾ç¤ºæç¤ºä¿¡æ¯ å¹¶ä¸”è·³è½¬åˆ°homeé¡µé¢;

this.$message({
                message: res.data.meta.msg,
                type: "success",
                duration: 800
              });

```



#### ä¸ƒ.è·³è½¬:

```js
# å£°æ˜å¼å¯¼èˆª:
<router-link to='/home'></router-link>
åœ¨`ç»„ä»¶,æ ‡ç­¾é‡Œ`ä½¿ç”¨
```



```js
#  ç¼–ç¨‹å¼å¯¼èˆª:
this.$router.push('è·¯å¾„'ï¼‰
åœ¨`äº‹ä»¶é‡Œ`ä½¿ç”¨;
```



### å…«.$route å’Œ$router

```js
# $route:
è·¯ç”±å¯¹è±¡,åŒ…å«urlä¿¡æ¯,è§£æ
åé¢çš„å“ˆå¸Œè·¯å¾„;æœ‰ä¸€äº›å‚æ•°  query path params å±æ€§;
ä¾‹å¦‚ï¼š
è·å–å‚æ•°ï¼šthis.$route.params.id  #ï¼ˆè§ç¬”è®°day07ï¼‰


# $router:
è·¯ç”±å®ä¾‹ ç¼–ç¨‹å¼å¯¼èˆª(è·³è½¬),ç™»é™†æ‹¦æˆª(å¯¼èˆªå®ˆå«);
this.$router.push('è·¯å¾„'ï¼‰
```



#### å¤„ç†ç™»é™† é¡µé¢å‚ç›´å±…ä¸­:

` <el-row :span='8'>`è¡Œ

` <el-col>`åˆ—

**æ³¨æ„:**

#### è¡¨å•æ ·å¼å’ŒèƒŒæ™¯é¢œè‰²:



#### homeé¡µé¢:

åœ¨æ–‡æ¡£é‡Œæ‰¾ä¸€ä¸ªå¸ƒå±€å®¹å™¨:

å¤åˆ¶ä»£ç ,åˆ†æ:









## es6çš„æ¨¡å—åŒ–è¯­æ³•:

##### 1.export default å’Œimport

**æ³¨æ„ç‚¹**:ä½¿ç”¨export defaultåªèƒ½å¯¼å‡ºä¸€ä¸ª

```js

```



##### 2.export å’Œ import

**æ³¨æ„**:exportå¯¼å‡ºéœ€è¦å¯¼å‡ºçš„æ˜¯æ•´ä½“;

```js
å¯¼å‡º:export let register = () => {

	console.log('æ³¨å†Œ')

}

å¯¼å…¥:import { register , .......,....... } from './a.js'
å¦‚æœè¦å–åˆ«åè¿˜å¯ä»¥register as a  åå­—å°±æ”¹ä¸ºäº†a

æ³¨æ„:ä½¿ç”¨exportå¯ä»¥å¯¼å‡ºå¤šä¸ªæ•°æ®,è¿™äº›æ•°æ®éƒ½æ”¾åˆ°äº†ä¸€ä¸ªå¯¹è±¡é‡Œé¢,åå­—é»˜è®¤ä¸è¦ä¹±å†™;

å¤–é¢å¼€å‘è¿˜æœ‰ä¸€ç§ç”¨æ³•:æ–¹å¼äºŒ

import * as åˆ«å from './a.js'

è°ƒç”¨çš„æ—¶å€™:åˆ«å.å‡½æ•°å( )

ä¾‹å¦‚:MG.login( )

```

##### 3.import axios form  'axios'

ä»`node_modules`é‡Œé¢æ‹¿åˆ°`axios`è¿™ä¸ªæ¨¡å—;





# ğŸ€day11

#### å„ç»„ä»¶é—´çš„æ ·å¼ä¼šç›¸äº’å½±å“çš„è§£å†³åŠæ³•:

1.åœ¨æ ·å¼æ ‡ç­¾åŠ scopedå±æ€§å¯ä»¥é™åˆ¶cssåªåœ¨å½“å‰ç»„ä»¶çš„æ ‡ç­¾èµ·æ•ˆæœ;` <style scpoed>` 

2.ä½†æ˜¯:æ·»åŠ scopedä¹‹å,æ ‡ç­¾ä¹‹å¤–çš„æ ·å¼ä¼šå¤±æ•ˆ;å¯ä»¥æŠŠæ ‡ç­¾å¤–çš„æ ·å¼æ‹‰å‡ºæ¥é‡å†™æ”¾åœ¨ä¸€ä¸ªæ–°çš„` <style>`é‡Œé¢;

3.login.vueå’Œhome.vueæ ·å¼é‡å¤çš„éƒ¨åˆ†,éƒ½å‰ªåˆ‡èµ°,åœ¨main.jsé‡Œå¼•å…¥ä¸€ä¸ªå…¨å±€çš„css;åœ¨assetsæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªcommon.cssæ–‡ä»¶, æŠŠåˆšåˆšå‰ªåˆ‡çš„html,body,m0,p0ç­‰ä¸€äº›æ ·å¼æ”¾è¿›å»;

#### äºŒ:æŠŠä»£ç ä¸Šä¼ åˆ°ç äº‘:

1.git ç®¡ç†æˆ‘ä»¬çš„ä»£ç : ç»ˆç‚¹è¾“å…¥ git init;

2.æŸ¥çœ‹çŠ¶æ€:git status   æ˜¾ç¤ºçº¢è‰²

3.ä»£ç ä» å·¥ä½œåŒº ==> æš‚å­˜åŒº  git add .   æ˜¾ç¤ºç»¿è‰²

4.ä»£ç ä» æš‚å­˜åŒº ==> æœ¬åœ°ä»“åº“ git commit -m +æäº¤ä¿¡æ¯è¯´æ˜;

5.æœ¬åœ°ä»“åº“=>ä¸Šä¼ ç äº‘;

ç™»é™†é©¬äº‘,åˆ›å»ºä»“åº“;å…³è”åœ°å€,ä»¥åå¯ä»¥ç›´æ¥æ“ä½œorigin

git push -u origin master (ç¬¬ä¸€æ¬¡ä¸Šä¼ ),ä»¥åä¸Šä¼ éƒ½æ˜¯masteråˆ†æ”¯

ä»¥åä¸Šä¼ éƒ½æ˜¯get push å°±å¥½äº†

#### ä¸‰:ç™»é™†çŠ¶æ€çš„åˆ¤æ–­è¯´æ˜

### é—®é¢˜1:åˆ¤æ–­æ˜¯å¦ç™»é™†è¿‡?

```js
# éœ€æ±‚:ä¸ç™»é™†,ä¸å…è®¸è®¿é—®å…¶ä»–é¡µé¢;

# é—®é¢˜1:åˆ¤æ–­æ˜¯å¦ç™»é™†è¿‡?

ç™»é™†æˆåŠŸå,åå°ä¼šè¿”å›ç»™æˆ‘ä»¬ä¸€ä¸ªtokenä»¤ç‰Œ,æˆ‘ä»¬`ä¿å­˜åˆ°æœ¬åœ°`,è¦åˆ¤æ–­æ˜¯å¦ç™»é™†,æˆ‘ä»¬å°±ä»æœ¬åœ°è·å–è¿™ä¸ªä»¤ç‰Œ,å¦‚æœæœ‰å€¼==>ç™»é™†è¿‡,æ²¡æœ‰==>å°±æ²¡æœ‰ç™»é™†è¿‡;

å¦‚ä½•ä»åå°åŠ¨æ€æ•°æ®æ‹¿åˆ°token:res=>data=>data=>token;
åœ¨login.vueé¡µé¢ç™»é™†æˆåŠŸçš„çš„é‡Œé¢ï¼Œä¿å­˜tokenï¼š`localStorage.setItem('token',res.data.data.token)`

```



#### é—®é¢˜2:å¦‚æœæ²¡æœ‰ç™»é™†è¿‡,åœ°å€æ è¾“å…¥è®¿é—®å…¶ä»–é¡µé¢,æˆ‘ä»¬éœ€è¦åšäº›ä»€ä¹ˆ?

```js
åˆ¤æ–­è®¿é—®çš„åœ°å€æ˜¯:ï¼ˆ`åˆ©ç”¨å¯¼èˆªå®ˆå«`ï¼‰
1.ç™»é™†é¡µé¢=>å¯ä»¥è®¿é—®;
2.ä¸æ˜¯ç™»é™†é¡µé¢=>åˆ¤æ–­æ˜¯å¦ç™»é™†è¿‡=>æ²¡æœ‰ç™»é™†==>å®šä¹‰è·³åˆ°ç™»é™†é¡µé¢;
ç™»é™†è¿‡=> å¯ä»¥ç›´æ¥è®¿é—®å…¶ä»–é¡µé¢;

```

â€‹	

### å››:å¯¼èˆªå®ˆå«

```js
æ¦‚å¿µ:é€šè¿‡è·³è½¬/å–æ¶ˆçš„æ–¹å¼,å®ˆå«ç™»é™†é¡µé¢æ˜¯å¦ç™»é™†è¿‡ï¼Œæ˜¯å¦å¯ä»¥è·³è½¬è®¿é—®å…¶ä»–é¡µé¢;
åœ¨vueå®˜ç½‘ï¼ŒvueRouteré‡Œï¼Œæœ‰å¯¼èˆªå®ˆå«æ–‡æ¡£ï¼›`å¯¼èˆªå®ˆå«æ˜¯vue-Routeræä¾›çš„`ï¼›
ç½‘ç«™ï¼šhttps://router.vuejs.org/zh/guide/advanced/navigation-guards.html

åœ¨route.js routteå†™:
æ¯ä¸ªå®ˆå«æ–¹æ³•æ¥æ”¶`ä¸‰ä¸ªå‚æ•°`ï¼š

to: Route: å³å°†è¦è¿›å…¥çš„ç›®æ ‡ è·¯ç”±å¯¹è±¡

from: Route: å½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”±

next: Function: ä¸€å®šè¦è°ƒç”¨è¯¥æ–¹æ³•æ¥ resolve è¿™ä¸ªé’©å­ã€‚æ‰§è¡Œæ•ˆæœä¾èµ– next æ–¹æ³•çš„è°ƒç”¨å‚æ•°ã€‚

		next(): è¿›è¡Œç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªé’©å­ã€‚å¦‚æœå…¨éƒ¨é’©å­æ‰§è¡Œå®Œäº†ï¼Œåˆ™å¯¼èˆªçš„çŠ¶æ€å°±æ˜¯ confirmed (ç¡®è®¤çš„)ã€‚

		next(false): ä¸­æ–­å½“å‰çš„å¯¼èˆªã€‚å¦‚æœæµè§ˆå™¨çš„ URL æ”¹å˜äº† (å¯èƒ½æ˜¯ç”¨æˆ·æ‰‹åŠ¨æˆ–è€…æµè§ˆå™¨åé€€æŒ‰é’®)ï¼Œé‚£ä¹ˆ URL åœ°å€ä¼šé‡ç½®åˆ° from è·¯ç”±å¯¹åº”çš„åœ°å€ã€‚

		next('/') æˆ–è€… next({ path: '/' }): è·³è½¬åˆ°ä¸€ä¸ªä¸åŒçš„åœ°å€ã€‚å½“å‰çš„å¯¼èˆªè¢«ä¸­æ–­ï¼Œç„¶åè¿›è¡Œä¸€ä¸ªæ–°çš„å¯¼èˆªã€‚ä½ å¯ä»¥å‘ next ä¼ é€’ä»»æ„ä½ç½®å¯¹è±¡ï¼Œä¸”å…è®¸è®¾ç½®è¯¸å¦‚ replace: trueã€name: 'home' ä¹‹ç±»çš„é€‰é¡¹ä»¥åŠä»»ä½•ç”¨åœ¨ router-link çš„ to prop æˆ– router.push ä¸­çš„é€‰é¡¹ã€‚

		next(error): (2.4.0+) å¦‚æœä¼ å…¥ next çš„å‚æ•°æ˜¯ä¸€ä¸ª Error å®ä¾‹ï¼Œåˆ™å¯¼èˆªä¼šè¢«ç»ˆæ­¢ä¸”è¯¥é”™è¯¯ä¼šè¢«ä¼ é€’ç»™ router.onError() æ³¨å†Œè¿‡çš„å›è°ƒã€‚

```

####  

#### å…¨å±€å‰ç½®å®ˆå«

```js
# å…¨å±€å‰ç½®å®ˆå«:

`åœ¨route.jsé‡Œ`  routeå®ä¾‹ä¸‹é¢å†™:

router.beforeEach((to,from,next)=>{
    //to è¦è·³è½¬çš„ç›®æ ‡å¯¹è±¡
    //from ä»å“ªé‡Œè·³è½¬è¿‡æ¥çš„
    //next æ˜¯ä¸ªå‡½æ•° é‡Œé¢å¯ä»¥å†™è·³è½¬åˆ°çš„é¡µé¢è·¯å¾„
	next( ) ==> æ”¾ä½ èµ°
    next(fasel)==>å–æ¶ˆ
    next('/') ==>è·³è½¬,æŒ‡å®šè·³è½¬çš„è·¯å¾„
    
})

//å®ä¾‹ä»£ç 
router.beforeEach((to, from, next) => {
  if (to.path === '/login') {
    next()
  } else {
    // è¯´æ˜æ˜¯å…¶ä»–é¡µé¢,éœ€è¦åˆ¤æ–­æ˜¯å¦ç™»é™†
    let token = localStorage.getItem('token')
    token ? next() : next('/login')
  }
})

```





### å¤„ç†ä½¿ç”¨lessç¼–è¯‘æ—¶å€™æŠ¥æ³¢æµªçº¿é”™è¯¯çš„é—®é¢˜:

### 

```js
åœ¨Home.vueé¡µé¢ï¼Œ
# å¤„ç†ä½¿ç”¨lessç¼–è¯‘æ—¶å€™æŠ¥æ³¢æµªçº¿é”™è¯¯çš„é—®é¢˜:

å¦‚æœä½¿ç”¨lessæ ¼å¼å†™æ ·å¼ï¼Œéœ€è¦åœ¨<style>é‡Œé¢å†™ä¸€ä¸ªlang='less'

å®‰è£… ï¼š less-loader å’Œ  less:  npm i less-loader å’Œ less;

```





#### å…­:é€€å‡ºåŠŸèƒ½logout()

```js
home.vueé‡Œ,
ç»™ç‚¹å‡»æŒ‰é’®æ³¨å†Œç‚¹å‡»äº‹ä»¶,å¹¶ä¸”æ§åˆ¶é»˜è®¤è·³è½¬è¡Œä¸º;

elementæ–‡æ¡£æ‰¾åˆ°æç¤ºæ¡†çš„åŠŸèƒ½ä»£ç 

ç‚¹å‡»ç¡®è®¤æŒ‰é’®:ä»¥åå·¥ä½œä¸­,éœ€è¦å‘é€è‡³åå°:ä¸Šè¯¾ä¸­,ä¸ç”¨;

	1.åˆ é™¤token

	 localStorage.removeItem('token')

	2.è·³è½¬åˆ°login

	this.$router.push('/login')

	3.æç¤ºé€€å‡ºæˆåŠŸ

ç‚¹å‡»å–æ¶ˆæŒ‰é’®: .catch ( )

```



#### ä¸ƒ:å·¦ä¾§èœå•æ 

```js
elementä¸­#NavMenuå¯¼èˆªèœå•:

æ‹·è´ä»£ç åˆ°home.vue

# åˆ†æï¼š

 - 	<el-menu > èœå•çˆ¶ç»„ä»¶:
 - 	<el-submenu>: èœå•å­ç»„ä»¶(# å¯ä»¥å±•å¼€,é‡Œé¢å¯ä»¥æ”¾el-meny-item èœå•å…ƒç´ )
 - 	<el-meny-item >èœå•å…ƒç´   #ä¸èƒ½å±•å¼€
-    default-active='2'  é»˜è®¤ç¬¬2ä¸ªé«˜äº®,ç‚¹å‡»çš„æ—¶å€™,ç‚¹å“ªä¸ªå“ªä¸ªé«˜äº®;
- @open="handleOpen"
- @close="handleClose" ç›‘å¬æ‰“å¼€ä¸å…³é—­ 
- background-colorèƒŒæ™¯è‰² 
- active-text-coloré«˜äº®é¢œè‰² 
- #  slot="title"å…·å è´Ÿè´£æ˜¾ç¤ºæ ‡é¢˜
- <template>åœ¨è¿™é‡Œæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„æ ‡ç­¾ï¼Œä¸ºäº†æŠŠé€‰é¡¹åŒ…è£¹åœ¨ä¸€èµ·ï¼›
- index= '1-1' , index= '2-1' , index= '2-2'
```





#### å…« ï¼ˆé‡è¦ï¼‰ç»™å¯¼èˆªæ·»åŠ è·¯ç”±çš„åŠŸèƒ½

```js
# ç‚¹å‡»ä¾§è¾¹æ å¯¼èˆªï¼Œåœ°å€æ çš„è·¯å¾„å‘ç”Ÿæ”¹å˜å¹¶ä¸”mainéƒ¨åˆ†æ”¹å˜ä¸ºç›¸åº”çš„ç»„ä»¶;

# ç»„ä»¶é‡Œçš„router `å±æ€§` ï¼šé»˜è®¤ä¸ºfalseï¼Œæ”¹ä¸ºtrue å°±ä¼šå¯åŠ¨è·¯ç”±åŠŸèƒ½ï¼›ä»¥indexä½œä¸ºpathè¿›è¡Œè·¯ç”±è·³è½¬ï¼›
router:=>false => true å¯åŠ¨è·¯ç”±åŠŸèƒ½;
æ³¨æ„ï¼š
`   :router = 'true'  `  ,'true' å¿…é¡»æ˜¯ä¸ªå­—ç¬¦ä¸²ï¼›
-ä»¥indexä½œä¸ºpathè¿›è¡Œè·¯ç”±è·³è½¬

åœ¨å¯¼èˆªèœå•æ’ä»¶çš„el-menué‡Œé¢æ·»åŠ :router='true'

# index='ç‚¹å‡»çš„è·¯å¾„æ è®¾ç½®çš„å¯¹åº”çš„åå­—'users/roles/rights

```



##### 

```js
# åŒ¹é…users/roles/rightså‡ ä¸ªè·¯ç”±ç»„ä»¶:
1.åˆ›å»ºç»„ä»¶Users.vue/Roles.vue  /Right.vue

åœ¨srcçš„componentsé‡Œå»ºä¸€ä¸ªæ–‡ä»¶å¤¹users,ä¸‹å»ºä¸€ä¸ªUsers.vue ..... roles/Roles.vue   rights/Right.vue

2.èµ°æµç¨‹

	2.1å…¥å£(ç‚¹å‡»åœ°å€æ æ˜¾ç¤ºçš„#åé¢çš„å†…å®¹)

	2.2åŒ¹é…è§„åˆ™ åœ¨route.jsé‡Œé¢å†™ï¼›
     `
routes: [
    {path: '/', redirect: '/login'},
    {path: '/login', component: Login},
    {path: '/home', component: Home},
    {path: '/users', component: Users},
    {path: '/roles', component: Roles},
    {path: '/rights', component: Rights}
  ]
	`

	2.3ç»„ä»¶ åœ¨router.js.é‡Œå¼•å…¥å·²ç»åˆ›å»ºå¥½çš„ç»„ä»¶;
`
import Users from '../components/users/Users.vue'
import Roles from '../components/roles/Roles.vue'
import Rights from '../components/rights/Rights.vue'
	
`
 # 2.4å‡ºå£ åœ¨App.vueé‡Œ   è¿™é‡Œç”¨åˆ°åµŒå¥—è·¯ç”±

	
	# åµŒå¥—è·¯ç”±:æ˜¯è·¯ç”±é‡Œé¢çš„è·¯ç”±

	# æ³¨æ„:
     users/roles/rightsæ˜¯homeçš„å­è·¯ç”±,éœ€è¦å†™åœ¨è¿™ä¸‰ä¸ªç»„ä»¶è¦æ”¾åœ¨homeç»„ä»¶é‡Œé¢,
     # åœ¨home.vueä¸­mainéƒ¨åˆ†é‡Œé¢ç•™ä¸€ä¸ªå ä½ç½®çš„å‡ºå£;<router-view></router-view>

```



#### è·¯ç”±è§„åˆ™:

```js
routes: [
    { path: '/', redirect: '/login' },
    { path: '/login', component: Login },
    {
      path: '/home',
      component: Home,
      children: [
        { path: '/users', component: Users },
        { path: '/roles', component: Roles },
        { path: '/rights', component: Rights }
      ]
    }
  ]
```



#### users.vueç»„ä»¶:

```js
# åˆ†æ
<!-- <el-table>è¡¨æ ¼ç»„ä»¶ -->
<!-- <el-table-column>è¡¨æ ¼çš„åˆ— -->
<!-- prop="username" æ˜¯è¯»å–çš„dateé‡Œçš„æ•°æ® -->
<!-- :data="tableData" æ˜¯ä¸€ä¸ªæ•°ç»„ -->
<!-- ç»„ä»¶åªåŒ…å«è¡¨æ ¼çš„åˆ— ï¼Œè¡Œç”±æ•°æ®å†³å®š -->

export default {
  data() {
    return {
      tableData: [
        {
          username: "ç‹å°è™",
          email: "780023683@qq.com",
          mobile: "15702970902"
        },
     
      ]
    };
  }
};

å‘é€axisoè¯·æ±‚

```



```js
created() {
    loadUserList()
  },
 methods:{
    // åŠ è½½ç”¨æˆ·æ•°æ®
    loadUserList() {

    }
  }
# åœ¨methodé‡Œå‘é€è¯·æ±‚ï¼Œåœ¨createdç”Ÿå‘½å‘¨æœŸé‡Œè°ƒç”¨ï¼Œè‡ªåŠ¨åŠ è½½æ•°æ®ï¼›
```



### å‘é€axiosè¯·æ±‚

```js

# å‘é€axisoè¯·æ±‚
å®‰è£…axios
å¼•å…¥axiosåœ¨users.vueé‡Œï¼›

åœ¨created() {
	this.loadUsersList()
}ï¼Œ
methods:{
//åŠ è½½ç”¨æˆ·æ•°æ®
loadUserList() {
    ã€‚ã€‚ã€‚
}
# è¿™æ¬¡è¯·æ±‚è¿”å›æ— æ•ˆçš„tokenï¼Œå› ä¸ºæ¯æ¬¡å‘é€è¯·æ±‚ï¼Œéƒ½è¦æºå¸¦tokenï¼›
# æ³¨æ„:ğŸ™ƒå¿…é¡»åœ¨è¯·æ±‚å¤´ä¸­ä½¿ç”¨ Authorization å­—æ®µæä¾› token ä»¤ç‰Œ

ğŸ˜‹ç™»é™†ä¹‹å,æ¯ä¸€æ¬¡å‘é€è¯·æ±‚éƒ½éœ€è¦æºå¸¦tokenä»¤ç‰Œ;ä¹‹å‰çš„ä¿å­˜åˆ°æœ¬åœ°æ˜¯è®©æˆ‘ä»¬æœ¬åœ°æŒ‡å®šæ˜¯å¦ç™»é™†æˆåŠŸ,ä½†æ˜¯åå°æœåŠ¡å™¨ä¸çŸ¥é“;éœ€è¦å‘Šè¯‰åå°;
# éœ€è¦åœ¨å‘é€è¯·æ±‚ä¸­åŠ ä¸€ä¸ªè¯·æ±‚å¤´
headers:{
Authorization:localStorage.getItem('token')
}



```



```js
# æ³¨æ„:è¯·æ±‚ç”¨æˆ·åˆ—è¡¨æ•°æ®éœ€è¦ä¼ å…¥å‚æ•°ï¼Œå› ä¸ºæ˜¯getè¯·æ±‚ï¼Œæ‰€ä»¥ç›´æ¥åœ¨è·¯å¾„ååŠ paramsï¼›

loadUserList() {
        axios.get('http://localhost:8888/api/private/v1/users',
       {  params: {
            query:"",
            pagenum:1,
            pagesize:6
       },
          headers: {Authorization:localStorage.getItem('token')
        }
       })
.then(res => {
          console.log(res)
      })
  }

# æœ€åï¼ŒæŠŠè¯·æ±‚åˆ°çš„æ•°æ®èµ‹å€¼ç»™userList;
this.tableData = res.data.data.users
```





### users.vueåˆ†é¡µåŠŸèƒ½

```js
æ–‡æ¡£é‡Œå¸¦æœ‰èƒŒæ™¯è‰²çš„åˆ†é¡µ:ç”¨ä¸€ä¸ªdivæŠŠæ•°æ®å’Œåˆ†é¡µåŒ…èµ·æ¥;

åˆ†æä»£ç :
background èƒŒæ™¯
layout="prev, pager, next"  å¸ƒå±€

:total  æ€»é¡µæ•° éœ€è¦åŠ¨æ€ç»‘å®š :total='total';å‘é€è¯·æ±‚è·å–çš„æ•°æ®æ€»ä¸ªæ•°å°±æ˜¯total:
# æ³¨æ„ï¼š éœ€è¦å…ˆåœ¨dataé‡Œç”³æ˜å®šä¹‰ä¸€ä¸‹  åèµ‹å€¼;

page-size:æ¯é¡µæ˜¾ç¤ºçš„æ•°æ®æ¡æ•°ï¼›æ–‡æ¡£é‡Œé¢çš„page-sizeå±æ€§`é»˜è®¤æ¯é¡µæ˜¾ç¤º10æ¡æ•°æ®`,éœ€è¦åœ¨htmlé‡Œ`å®šä¹‰ä¸€ä¸‹`å±æ€§:page-size='2'

pagenum:å½“å‰é¡µ:é»˜è®¤1

# æ³¨æ„ï¼š
ç”¨ pagenumå…ˆåœ¨dataé‡Œ`å®šä¹‰ä¸€ä¸‹`,ä¹‹åæ ¹æ®è¯·æ±‚åˆ°çš„æ•°æ®åŠ¨æ€è·å–å¹¶ä¸”ç»‘å®šåˆ°:current-page='pagenum',è¿™ä¸ªé»˜è®¤æ˜¯å½“å‰é¡µæ˜¯1,éœ€è¦åŠ¨æ€ç»‘å®š;

```



## day12

### ä¸€:åˆ†é¡µæ•ˆæœ

##### ç‚¹å‡»åˆ†é¡µåœ¨users.vueé¡µé¢:

```js

ç»™ç»„ä»¶<el-pagination>æ·»åŠ ä¸€ä¸ª@current-change="changePage" äº‹ä»¶, currentPage æ˜¯å½“å‰ç‚¹å‡»çš„é¡µæ•°, ç‚¹å‡»é¡µç æ”¹å˜æ—¶ä¼šè§¦å‘,å›è°ƒå‚æ•° æ˜¯å½“å‰é¡µ;@current-change=''
```





```js
//æ”¹å˜é¡µæ•°;

changePage(curPage )  {

this.loadUsersList(curPage)

}
```



```js
å½¢å‚:pagenum ,æ˜¯ç”±å‰ç«¯ä¼ ç»™åå°çš„;

åœ¨es6è¯­æ³•é‡Œpagenum = 1 æ„æ€æ˜¯å¦‚æœå‰ç«¯ä¼ å€¼äº†,pagenumå°±æ˜¯å‰ç«¯ä¼ è¿‡æ¥çš„å€¼,å¦‚æœå‰ç«¯æ²¡æœ‰ä¼ ,å°± pagenum = 1 ;

# è°ƒç”¨this.loadUsersList(curPage)å‡½æ•°ä¼ å…¥ç‚¹å‡»çš„å½“å‰curPageé¡µç ;

# é¡µé¢ä¸€è¿›æ¥å°±æ‰§è¡Œcreated( )é’©å­é‡Œçš„å‡½æ•°, é»˜è®¤ç¬¬ä¸€æ¬¡è·å–åˆ°çš„æ˜¯ç¬¬1é¡µçš„æ•°æ®,è®©loadUsersList(  1  ),åé¢å†æ ¹æ®ç‚¹å‡»çš„é¡µç ä¼ é€’å¯¹åº”çš„é¡µç æ•°æ®è¿‡å»;

```



### åŠ å…¥æ–‡æœ¬è¾“å…¥æ¡†-elementæ’ä»¶

```js
æ”¾åœ¨users.vueè¡¨æ ¼çš„ä¸Šé¢

æ‹·è´ä»£ç åˆ†æ:v-model= searchText

# æŸ¥è¯¢å†…å®¹searchTextå®šä¹‰ä¸ºç©º,  searchText :' '

slot='append':å†³å®šæœç´¢æŒ‰é’®çš„ä½ç½®  appendæ”¾åœ¨åé¢ ,prependæ”¾åœ¨å‰é¢ ;

```



#### æ·»åŠ ç”¨æˆ· çš„æŒ‰é’®ç»„ä»¶

````js
ç´§æŒ¨ç€æ”¾ä¸‹é¢:

æ”¾æˆä¸€è¡Œä¸¤åˆ—çš„ç»“æ„ 8/3

è¡Œ:el-row  åˆ—:el-col

gutterå±æ€§:æŒ‡å®šæ¯ä¸€æ ç›´æ¥çš„é—´éš”;åŠ ç»™row :gutter='20'

````



#### è¾“å…¥æ¡† è¾“å…¥å†…å®¹æœç´¢å¯¹åº”æ•°æ®

```js
# ç»™æŸ¥è¯¢æŒ‰é’®æ³¨å†Œç‚¹å‡»äº‹ä»¶ @click="startQuery"
```





```js
æŸ¥è¯¢åˆ°æ•°æ®ä¹‹å,é¦–å…ˆè®©ä»–æ˜¾ç¤ºæŸ¥è¯¢åˆ°çš„ç¬¬ä¸€é¡µæ•°æ®ï¼›
// å¼€å§‹æŸ¥è¯¢
	startQuery() {
        console.log(this.searchText);
        // è·å–æŸ¥è¯¢å†…å®¹çš„ç¬¬ä¸€é¡µæ•°æ®
        this.loadUsersList(1, this.searchText);
    }
    å½“æŸ¥è¯¢åˆ°çš„æ•°æ®è¶…è¿‡ä¸€é¡µï¼Œè¿˜éœ€è¦ç‚¹å‡»æŸ¥è¯¢åˆ°æ•°æ®çš„ç¬¬äºŒé¡µæ•°æ®çš„æ—¶å€™,`è¿˜éœ€è¦æŠŠæŸ¥è¯¢å†…å®¹çš„å‚æ•°ä¹Ÿä¼ é€’è¿‡å»,åœ¨æ”¹å˜é¡µæ•°çš„æ–¹æ³•é‡Œ;`

// æ”¹å˜é¡µæ•°
    changePage(curPage) {
      console.log("æ”¹å˜", curPage);
      // æŠŠå–åˆ°çš„curPageèµ‹å€¼ç»™pagenum,é‡æ–°æ¸²æŸ“é¡µé¢;
      this.loadUsersList(curPage,this.searchText);
    },
```



### é¢åŒ…å±‘å¯¼èˆª(å›¾æ ‡åˆ†éš”ç¬¦)

```
æ”¾åœ¨users.vueé‡Œ

èƒŒæ™¯è‰²:

é«˜åº¦:40px 

å‚ç›´å±…ä¸­:40px

padding-left:20px

è¡¨æ ¼çš„åˆ—

æ­£å¸¸åˆ—:èƒ½å¤Ÿèµ‹å€¼æ–‡æœ¬(å­—ç¬¦ä¸²)/æ•°ç»„;é€šè¿‡porpèµ‹å€¼

è‡ªå®šä¹‰åˆ—:å…¶ä»–æ ‡ç­¾/ç»„ä»¶/éœ€è¦å¤„ç†çš„æ–‡æœ¬æˆ–è€…æ–‡å­—

```



#### è¡¨æ ¼é‡Œæ“ä½œæ æ•°æ®:

```
elementæ’ä»¶tableè¡¨æ ¼è‡ªå®šä¹‰åˆ—æ¨¡æ¿:

buttonæŒ‰é’® <el-button>...</el-button>

plain:é•‚ç©ºæ ·å¼

size:mini   è¿·ä½ å‹

type='primary'/danger/warning  é¢œè‰²

```





## promiseè¯­æ³•





```js
# promiseæ˜¯es6æå‡ºæ¥çš„ä¸€ä¸ªè¯­æ³•:
ä½œç”¨:æƒ³ä»¥ç¼–å†™åŒæ­¥ä»£ç çš„æ–¹å¼å¤„ç†å¼‚æ­¥çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ;

ä»¥å‰å¤„ç†å¼‚æ­¥ éƒ½æ˜¯é€šè¿‡å›è°ƒå¤„ç†çš„ ;
setTimeout(function(){
   
   },1000)
   $.ajax({
     url : '..',
     type : '',
     data : '',
     success : function(res){
  
    }
   })

//è¿™ç§å¤„ç†æ–¹æ³•,å¦‚æœå¼‚æ­¥æ¯”è¾ƒç®€å•,æ¬¡æ•°æ¯”è¾ƒå°‘çš„è¯,éƒ½æ˜¯å¯ä»¥çš„,ä½†æ˜¯å¦‚æœæ¬¡æ•°æ¯”è¾ƒå¤š,å¼‚æ­¥æ¯”è¾ƒå¤æ‚,å°±ä¼šå‡ºç°ä¸€ä¸ªå›è°ƒåœ°ç‹±çš„é—®é¢˜

  * 1. ä»£ç ä¸ä¼˜é›…  2-ç»“æ„ä¸æ¸…æ™°  3-å¤„ç†èµ·æ¥ä¸æ–¹ä¾¿

```





```js
$.ajax({
  url: '',
  type: '',
  data: '',
  success: function (res) {
    
    // æ­¤å¤„çœç•¥100è¡Œ
    // ç¬¬ä¸€æ¬¡è¯·æ±‚æˆåŠŸä¹‹å,å†è¯·æ±‚ç¬¬äºŒæ¬¡
    // ç¬¬äºŒæ¬¡è¯·æ±‚
    $.ajax({
      url: '',
      type: '',
      data: '',
      success: function() {
         // ç¬¬ä¸‰æ¬¡è¯·æ±‚
        $.ajax({
          url: '',
          type: '',
          data: '',
          success: function () {
            
            // ç¬¬å››æ¬¡è¯·æ±‚
            $.ajax({
              url: '',
              type: '',
              data: '',
              success: function() {
                
              }
            }) 
            
          }
        }) 
      }
    }) 
    
  }
}) 
```



#### ä½¿ç”¨promiseè§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜:

```js
1.Promiseæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°;
å®ä¾‹åŒ–æ„é€ å‡½æ•°const p = new Promise()

2.()é‡Œé¢æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°;

å›è°ƒé‡Œé¢æœ‰ä¸¤ä¸ªå‚æ•°:

resolve :fn() { }  å¼‚æ­¥æ“ä½œæˆåŠŸåè°ƒç”¨resolve()

reject: fn() { }  å¼‚æ­¥æ“ä½œå¤±è´¥åè°ƒç”¨reject()

3.promiseé‡Œé¢ä¸€èˆ¬æ”¾ä¸€ä¸ªå¼‚æ­¥æ“ä½œ

ğŸ™ƒæ³¨æ„:pæ˜¯ä¸€ä¸ªpromiseç±»å‹;axios.getä¹Ÿæ˜¯ä¸€ä¸ªpromiseç±»å‹,æ‰€ä»¥ä¹Ÿå¯ä»¥ p.then();
	   aixos.get('...').then()å‘é€çš„è¯·æ±‚,ä¹Ÿæ˜¯promiseç±»å‹;
	   XXXX.then()  XXXå°±æ˜¯ä¸€ä¸ªpromiseç±»å‹;

```

```js
const p = new Promise((resolve, reject) => { 
  
  setTimeout(() => {
    console.log('å¼‚æ­¥æ“ä½œå¼€å§‹äº†');

    # 1.å‡è®¾å¼‚æ­¥æ“ä½œæˆåŠŸ => è°ƒç”¨ resolve  ==> ä¼šæ‰§è¡Œthen é‡Œé¢çš„å›è°ƒä¹Ÿå°±æ˜¯è¯´xxx.thenæ˜¯åœ¨resovleè°ƒç”¨æˆåŠŸä¹‹åæ‰§è¡Œçš„;resolveæ‹¬å·å¯ä»¥ä¼ å‚,ä¼ é€’çš„å‚æ•°åœ¨.thené‡Œé¢å¯ä»¥æ¥æ”¶,æ‰“å°
    resolve('æ“ä½œæˆåŠŸå“¦ä¹Ÿ')

    # 2.å‡è®¾å¼‚æ­¥æ“ä½œå¤±è´¥ ==> è°ƒç”¨ reject  => æ‰§è¡Œ catch é‡Œé¢çš„å›è°ƒ
    // reject('æ“ä½œå¤±è´¥äº†,ç°å¸¸å¯æƒœ..')
  }, 0);
})  
```



```js

å¼‚æ­¥æ“ä½œæˆåŠŸè°ƒç”¨then
å¼‚æ­¥æ“ä½œå¤±è´¥ä¼šè°ƒç”¨catch,æ‰§è¡Œcatché‡Œé¢çš„å›è°ƒ;
p.catch(err=>{
    log('æ“ä½œå¤±è´¥äº†')
})
```







ä½¿ç”¨promiseå°è£…ä¸€ä¸ªå¼‚æ­¥è¯»å–æ–‡ä»¶1

ä½¿ç”¨promiseå°è£…ä¸€ä¸ªå¼‚æ­¥è¯»å–æ–‡ä»¶2

### asyncå’Œawaitæ˜¯es8æå‡ºæ¥çš„è¯­æ³•;

```js
ä¹Ÿæ˜¯æƒ³é€šè¿‡ç¼–å†™åŒæ­¥ä»£ç çš„æ–¹å¼å¤„ç†å¼‚æ­¥,ä½†æ˜¯å¤„ç†çš„æ›´å½»åº•;

 async : #ä¿®é¥°ä¸€ä¸ªå‡½æ•°(å†…éƒ¨æœ‰å¼‚æ­¥æ“ä½œçš„å‡½æ•° )
 æ ¼å¼     async function test(){    }
 await : # ä¿®é¥°ä¸€ä¸ªå¼‚æ­¥æ“ä½œ (promiseå®ä¾‹ ) 
 æ ¼å¼   await å¼‚æ­¥æ“ä½œ(promiseå®ä¾‹)

 #æ³¨æ„ç‚¹1
 : async å’Œ await æˆå¯¹å‡ºç°+
     6
 #æ³¨æ„ç‚¹2
 : async å’Œ await å¤„ç†å¤„ç†è¯»å–å¤±è´¥çš„æƒ…å†µä¸‹è¦é…åˆ try...catch ... 
 #æ³¨æ„ç‚¹3 
 : async ä¸€å®šè¦åŠ åœ¨ await æœ€è¿‘çš„å‡½æ•°ä¸Šé¢
 
```

é…åˆtry...catchå¤„ç†è¯»å–å¤±è´¥çš„æƒ…å†µ

```js
ä¸æ”¾åœ¨try...catché‡Œ,ä¼šå½±å“åé¢å¼‚æ­¥çš„æ‰§è¡Œ;
async function fn () {
  
 try {
    // è¯»å–aæ–‡ä»¶
    let a = await ml_readF("./a1.txt");
    console.log(a);
  } catch (error) {
    console.log("è¿™é‡Œå‡ºé”™äº†,æˆ‘è¦åšå…¶ä»–çš„å¤„ç†......æ¯”å¦‚è¯´åˆ é™¤æŸä¸ªå¥³æœ‹å‹");
  }

  // è¯»å– b æ–‡ä»¶
  let b = await ml_readF("./b.txt");
  console.log(b);

  // è¯»å– c æ–‡ä»¶
  let c = await ml_readF("./c.txt");
  console.log(c);
}

fn();
```







promiseçš„å…¶ä»–ä¸¤ä¸ªç”¨æ³•;

**promiseçš„ä¸‰ä¸ªçŠ¶æ€:**

â€‹	pending:è¿›è¡Œä¸­(ç­‰å¾…)

â€‹	resolved:æˆåŠŸæ“ä½œ;

â€‹	rejected:å¤±è´¥æ“ä½œ;

#### æ”¹é€ é¡¹ç›®





#### æŠ½ç¦»ä¸‰ä¸ªéƒ¨åˆ†

å»ºä¸€ä¸ªUsers.html,æŠŠusers.vueçš„htmlå‰ªåˆ‡èµ° å¹¶ä¸”é€šè¿‡srcå¼•å…¥` <template src=''></template>`

å»ºä¸€ä¸ªUsers.js,æŠŠusers.vueçš„jså‰ªåˆ‡èµ° ,å¹¶ä¸”é€šè¿‡srcå¼•å…¥

å»ºä¸€ä¸ªUsers.less,æŠŠusers.vueçš„styleå‰ªåˆ‡èµ° ,å¹¶ä¸”é€šè¿‡srcå¼•å…¥



#### æ’æ§½slot

ä½œç”¨:æ›¿æ¢å†…å®¹,åˆ†å‘å†…å®¹;

åŸºæœ¬ä½¿ç”¨:

`<el-car>...</el-car>`

```js
<div id="app">
      		<!-- ç¬¬ä¸€æ¬¡ä½¿ç”¨ç»„ä»¶ -->
      <el-car>
        <div>å¤§ä¼—å‘åŠ¨æœº</div>
      </el-car>
      		<!-- ç¬¬äºŒæ¬¡ä½¿ç”¨ç»„ä»¶  -->
      <el-car>
        <p>å¥¥è¿ªå‘åŠ¨æœº</p>
      </el-car>
     		 <!-- ç¬¬ä¸‰æ¬¡ä½¿ç”¨ç»„ä»¶  -->
      <el-car></el-car>
    </div>
    <script src="./vue.js"></script>
    <script>
      //  æ³¨å†Œç»„ä»¶
      Vue.component('el-car', {
        template: `
     <div>
        <h3>æç¤º</h3>
        <slot>
          
        </slot>
        <button>å–æ¶ˆ</button>
        <button>ç¡®å®š</button>
     </div>
      `
      });

      const vm = new Vue({
        el: '#app',
        data: {}
      });
</script>
```



# day13

#### å…·å

```js
<div id="app"> 
     <!--
    ç¬¬ä¸€æ¬¡ä½¿ç”¨
    <el-car>
      <h3 slot='n1'>å¤§ä¼—æç¤º</h3>
      <div slot='n2'>å¤§ä¼—å‘åŠ¨æœº</div>
    </el-car>


  ç¬¬äºŒæ¬¡ä½¿ç”¨ 
    <el-car>
      <h3 slot='n1'>å¥¥è¿ªæç¤º</h3>
      <p slot='n2'>å¥¥è¿ªå‘åŠ¨æœº</p>
    </el-car> -->

</div>

<script src="./vue.js"></script>
<script>
Vue.component('el-car',{
     template:`
     <div>
        <slot name='n1'></slot>
        <slot name='n2'></slot>
        <button>å–æ¶ˆ</button>
        <button>ç¡®å®š</button>
     </div>
      `
    }) 
</script>

```



#### ä½¿ç”¨å…·åå†³å®šä½ç½®

```
 <!-- append åé¢ prepend å‰é¢ -->
 <div>  <slot name='prepend'></slot> <input type='text' >  <slot name='append'></slot>  </div>
      
```



#### ğŸ˜‹ä½œç”¨åŸŸæ’æ§½

æ³¨æ„:

```js
1.ç»„ä»¶el-carå†…çš„å­å…ƒç´ <p></p>æƒ³è®¿é—®el-caré‡Œé¢çš„æ•°æ®==> ç›´æ¥è®¿é—®æ˜¯ä¸è¡Œçš„==>éœ€è¦é€šè¿‡å±æ€§èµ‹å€¼ç»™<slot :type='type' :row='row'></slot>
    
2.slot-scope='scope'  ä»¥ä¸Šå±æ€§éƒ½å°†æˆä¸ºscopeçš„å±æ€§  scope.type 
```



æ–¹å¼äºŒ:ä¹Ÿå¯ä»¥åŠ åœ¨templateä¸Šé¢

```js
æ³¨æ„:vue2.6ä¹‹å,ä½œç”¨åŸŸæ’æ§½å¿…é¡»è¦ä½¿ç”¨<template></template>

ğŸ™ƒé€šè¿‡templateå¯ä»¥scope.rowæ‹¿åˆ°ä»–çš„å¯¹è±¡é‡Œçš„æ•°æ®;

```



```js
<div id="app">
    <el-car>
      <!-- æ–¹å¼1 -->
      <!-- <p slot-scope="scope">å¤§ä¼—å‘åŠ¨æœºå‹å· : {{ scope.row.name }} {{ scope.row.age }} </p> -->
    
      <!-- vue 2.6.0 ä¹‹å,å¿…é¡»è¦ä½¿ç”¨ template  -->
      <!-- æ–¹å¼2 -->
      <template  slot-scope="scope">
        <p>å¤§ä¼—å‘åŠ¨æœºå‹å· : {{ scope.row.name }} {{ scope.row.mg_state }} </p>
      </template>
    </el-car>


           
 </div>
   <script src="./vue.js"></script>
   <script>

    Vue.component('el-car',{
     template:`
     <div>
       <h3>æç¤º</h3>
        <slot  :row='row'   :type='type' num=890 ></slot>
        <button>å–æ¶ˆ</button>
        <button>ç¡®å®š </button>
     </div>
      `,
      data() {
        return {
          type :'EA888',
          row : {
            name : 'zs',
            age : 18,
            mg_state : true
          }
        }
      },
    }) 

   const vm = new Vue({
      el: '#app',
      data: {
         
       }
    })

    </script>
```



![](E:\ç¬”è®°æ•´ç†\14-vue\images\scope.png)



### users.htmlé¡µé¢ç”¨æˆ·çŠ¶æ€çš„æ·»åŠ 

```js
é¡µé¢æ ·å¼:
elementæ’ä»¶Switch å¼€å…³é‡Œæ‰¾åˆ°å¯¹åº”çš„;

htmlæ ·å¼è¦å†™åœ¨templateæ ‡ç­¾é‡Œé¢;å¹¶ä¸”ç»™æ ‡ç­¾åŠ ä¸Šslot-scope='scope' å±æ€§;

#æ³¨æ„
:v-modelç»‘å®šçŠ¶æ€,è¦ç»‘å®š`å½“å‰å¯¹è±¡`çš„ç”¨æˆ·çŠ¶æ€;

# scope.rowæ‹¿åˆ°çš„æ˜¯ç‚¹å‡»çš„å½“å‰è¡Œçš„å¯¹è±¡;
å† .mg_stateæ‰æ˜¯ç”¨æˆ·çŠ¶æ€,æ‰€ä»¥

v-model = 'scope.row.mg_state' ç”¨æˆ·çŠ¶æ€ : true / false

mg_statesæ˜¯åŠ¨æ€è¯·æ±‚åˆ°çš„æ•°æ®å±æ€§;

#æ³¨æ„:
åœ¨è‡ªå®šä¹‰åˆ—é‡Œé¢`ä¸èƒ½ç›´æ¥`ç»‘å®šåŠ¨æ€è·å–çš„dataé‡Œé¢çš„æ•°æ®;éœ€è¦ç”¨åˆ°templateè‡ªå®šä¹‰å±æ€§slot-scope='scope'.å†é€šè¿‡scope.row...è·å–

```



ğŸ™ƒå¦‚æœé¡µé¢ä¸­æ ‡ç­¾è¢«templateåŒ…è£¹**é€šè¿‡templateçš„scope.rowå±æ€§å¯ä»¥æ‹¿åˆ°ä»–çš„å¯¹è±¡é‡Œçš„æ•°æ®**;

##### è‡ªå®šä¹‰åˆ—è·å–æ•°æ®:

```
<template slot-scope='scope'>			{{scope.row.mg_states}}
</template>
```



**ç»™åå°å‘é€è¯·æ±‚**,é€šè¿‡åå°æ•°æ®ä¿®æ”¹ç”¨æˆ·çŠ¶æ€

htmlé¡µé¢ä¸­,@change= 'changeState (scope.row)'

**users.jsé‡Œé¢**,æ¥æ”¶row,æ‰“å°row,å¯ä»¥å¯ä»¥æ‹¿åˆ°å¯¹åº”ç‚¹å‡»çš„é‚£ä¸ªå¯¹è±¡çš„idå’Œmg_stateçŠ¶æ€;

æ¥å£å‚è€ƒ1.3.3   ä¿®æ”¹ç”¨æˆ·çŠ¶æ€

**é‡è¦:putå‘é€è¯·æ±‚,é‡Œé¢æœ‰3ä¸ªå‚æ•°:(urlåœ°å€,è¯·æ±‚çš„å‚æ•°,é…ç½®é¡¹),å½“ç¬¬äºŒä¸ªè¯·æ±‚å‚æ•°æ²¡æœ‰çš„æ—¶å€™,éœ€è¦å†™ä¸ªnull,é…ç½®é¡¹ä¸èƒ½æ˜¯ç¬¬äºŒä¸ªå‚æ•°;**

```js

```



### è§£å†³axiosçš„å‡ ä¸ªé—®é¢˜

```js
1.æ¯æ¬¡éƒ½æ·»åŠ åŸºè·¯å¾„

2.æ¯ä¸ªjsæ–‡ä»¶è±†è¦å¼•å…¥aixos

3.æ¯æ¬¡è±†è¦æºå¸¦token

```



##### åœ¨main,jsé‡Œå¤„ç†axiosçš„ä¸‰ä¸ªé—®é¢˜

æ³¨æ„è¦å…ˆå¼•å…¥axios;

1.åŸºè·¯å¾„:axios.defaults.baseURL = 'http://localhost:8888/api/pribate/vi/'

```js
2.æŠŠaxiosèµ‹å€¼åˆ°vueåŸå‹:Vue.phototype.$axios = axios

åœ¨users.jsç­‰é¡µé¢çš„ä½¿ç”¨:æŠŠaxiosæ”¹æˆthis.$axios

```



3.è§£å†³æ–¹æ³•1:åœ¨main.jsç­‰é¡µé¢åŠ axios.defaults.headers.common['Authorization] = localStorage.getItem('token);

è§£å†³æ–¹æ³•2:æ‹¦æˆªå™¨Interceptors

æ·»åŠ ä¸€ä¸ªè¯·æ±‚çš„æ‹¦æˆªå™¨åœ¨main.js:

```js
axios.interceptors.request.use(
  function (config) {
    // æ‹¦æˆªæ¯æ¬¡è¯·æ±‚,æºå¸¦token
    config.headers.Authorization = localStorage.getItem('token')

    return config
  },
  function (error) {
    // Do something with request error
    return Promise.reject(error)
  }
)

```



### åˆ é™¤ç”¨æˆ·

æ³¨å†Œç‚¹å‡»äº‹ä»¶@click='delUser(scope.row.id)'

å‚è€ƒæ¥å£  1.3.6

åœ¨users.jsé‡Œ;ä½¿ç”¨asnyc å’Œ await   é…åˆtry ...cahch ...ä½¿ç”¨;

```js
async delUser(id) {
      try {
        //ç‚¹å‡»å¼¹å‡ºä¸€ä¸ªç¡®è®¤çª—å£
        await this.$confirm('æ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤è¯¥ç”¨æˆ·, æ˜¯å¦ç»§ç»­?', 'æç¤º', {
          confirmButtonText: 'ç¡®å®š',
          cancelButtonText: 'å–æ¶ˆ',
          type: 'warning'
        })
        let res = await this.$axios.delete('users/' + id)
        if (res.data.meta.status === 200) {
          this.$message({
            type: 'success',
            message: 'åˆ é™¤æˆåŠŸ!',
            durnation: 800
          })
          // é‡æ–°åˆ·æ–°åˆ—è¡¨æ•°æ®
          this.loadUsersList()
        }
      } catch (error) {
        this.$message({
          type: 'info',
          message: 'å·²å–æ¶ˆåˆ é™¤',
          durnation: 800
        })
      }
    }
```



### æ·»åŠ ç”¨æˆ·

#### å¼¹æ¡†

æ’ä»¶<el-dialog>Dialog å¯¹è¯æ¡†==>è‡ªå®šä¹‰å†…å®¹

ç»™<el-dialog>åŠ å®½åº¦ label-width=100px;

**æ¥å£1.3.2**

æ˜¾ç¤ºç”¨æˆ·å¯¹è¯æ¡†çš„é»˜è®¤å€¼æå‰å®šä¹‰ä¸€ä¸‹:

â€‹     dialogAddUserVisible: false

å®šä¹‰ä¸€ä¸‹æ·»åŠ ç”¨æˆ·è¡¨å•å¯¹è±¡:

form : {   }

æ³¨æ„:ç‚¹å‡»ç¡®è®¤æˆ–è€…å–æ¶ˆæŒ‰é’®éƒ½æ˜¯éšè—å¯¹è¯æ¡†;

æ³¨æ„:addUsersForm,åŒå‘ç»‘å®š,åœ¨users.jsæå‰å†™å¥½,ä¿è¯æ­£å¸¸ç»‘å®š:å†™ä¸Šå±æ€§,å†…å®¹ä¸ºç©ºå°±å¥½;



#### æ ¡éªŒè§„åˆ™

1.åœ¨users.htmlé‡Œç»™el-form è¡¨å•æ·»åŠ ruleså±æ€§` :rules='rules'`

2.æ¯ä¸€é¡¹éƒ½å¾—æœ‰ä¸ªprop,æ¯”å¦‚prop= 'username'

**3.**åœ¨users.js dataæ•°æ®é‡Œå®šä¹‰æ ¡éªŒè§„åˆ™  

```js
   // æ ¡éªŒè§„åˆ™
      rules: {
        username: [
          // å¦‚æœæ–‡æœ¬ä¸å†™å†…å®¹ä¼šè§¦å‘
          { required: true, message: 'è¯·è¾“å…¥ç”¨æˆ·å', trigger: 'blur' },
          // æ ¼å¼ä¸æ­£ç¡®ä¼š è§¦å‘
          { min: 3, max: 5, message: 'é•¿åº¦åœ¨ 3 åˆ° 5 ä¸ªå­—ç¬¦', trigger: 'blur' }
        ],
        password: [
          // å¦‚æœæ–‡æœ¬ä¸å†™å†…å®¹ä¼šè§¦å‘
          { required: true, message: 'è¯·è¾“å…¥å¯†ç ', trigger: 'blur' },
          // æ ¼å¼ä¸æ­£ç¡®ä¼š è§¦å‘
          { min: 6, max: 10, message: 'é•¿åº¦åœ¨ 6 åˆ° 10 ä¸ªå­—ç¬¦', trigger: 'blur' }
        ],
        email: [
          // æ ¼å¼ä¸æ­£ç¡®ä¼š è§¦å‘
          {
            pattern: /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,
            message: 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®',
            trigger: 'blur'
          }
        ],
        mobile: [
          // æ ¼å¼ä¸æ­£ç¡®ä¼š è§¦å‘
          {
            pattern: /^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/,
            message: 'æ‰‹æœºæ ¼å¼ä¸æ­£ç¡®',
            trigger: 'blur'
          }
        ]
      }
```



æ³¨æ„:é‚®ç®±å’Œæ‰‹æœºæ ¼å¼éœ€è¦åŒ¹é…æ­£åˆ™;

ç»™æ·»åŠ ç”¨æˆ·æŒ‰é’®æ³¨å†Œç‚¹å‡»äº‹ä»¶,ç‚¹å‡»å¼¹å‡ºå¯¹è¯æ¡†;@click=showAddUserDialog

åœ¨uses.jsé‡Œ,æ˜¾ç¤º æ·»åŠ ç”¨æˆ·çš„å¯¹è¯æ¡†

 ```js
 showAddUserDialog( ) {

      this.dialogAddUserVisible = true

  },

 ```



#### æ·»åŠ ç”¨æˆ·ä¿¡æ¯

æœé›†è¾“å…¥çš„ä¿¡æ¯:

ç¡®è®¤æŒ‰é’®@click='addUser'

åœ¨users.jsé‡Œ

```js
async addUser() {
      let res = await this.$axios.post('users', this.addUserForm)
      //ğŸ™ƒæ³¨æ„:è¿™é‡Œéœ€è¦æ‹¼æ¥çš„4ä¸ªå‚æ•°,å‰é¢å®šä¹‰çš„æ—¶å€™å·²ç»æ”¾åœ¨äº†addUserFormè¿™ä¸ªå¯¹è±¡é‡Œ,æ‰€ä»¥ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨addUserForm;
      console.log(res)
      if (res.data.meta.status === 201) {
        // 1. å…³é—­å¯¹è¯æ¡†
        this.dialogAddUserVisible = false
        // 2. æç¤ºæ·»åŠ æˆåŠŸ
        this.$message({
          message: 'æ·»åŠ ç”¨æˆ· æˆåŠŸ',
          type: 'success',
          duration: 800
        })
        // 3. åˆ·æ–°åˆ—è¡¨
        this.loadUsersList()
      }
    }
```



åˆ›å»ºæˆåŠŸçš„çŠ¶æ€ç æ˜¯201

##### 1.å…³é—­å¯¹è¯æ¡†

##### 2.æç¤ºæ·»åŠ æˆåŠŸä¿¡æ¯åŒæ—¶å…³é—­å¯¹è¯æ¡†æ—¶å€™æ¸…ç©ºæ•°æ®æ¡†æ•°æ®

**å¯¹è¯æ¡†å…³é—­çš„äº‹ä»¶**,æ˜¯elementæä¾›çš„;@closeäº‹ä»¶='addUserDialogClose'

//users.jsæ‹¿åˆ°è¡¨å•å¹¶ä¸”é‡ç½®;

æ‹¿åˆ°è¡¨å•;åœ¨users.htmlé‡Œel-form æ ‡ç­¾ä¸ŠåŠ ä¸Š ref="addUserRef" 

 this.$refs.addUserRef.resetFields() 

**resetFields()** æ˜¯elementé‡Œæä¾›çš„è¡¨å•é‡ç½®çš„æ–¹æ³• 

##### 3.åˆ·æ–°åˆ—è¡¨æ•°æ®



### ç¼–è¾‘ç”¨æˆ·æ“ä½œ

1.ç‚¹å‡»å¼¹å‡ºç¼–è¾‘ç”¨æˆ·å¯¹è¯æ¡†

åœ¨htmlç¼–è¾‘æŒ‰é’®çš„æ ‡ç­¾ä¸Šæ³¨å†Œç‚¹å‡»äº‹ä»¶;

@click="showEditUserDialog(scope.row)" 

åœ¨users.htmlé‡Œ,

```js
:visible.sync='dialogEditUserVisible '

```



ç”¨æˆ·åæ”¹ä¸ºä¸€ä¸ª` <el-tag>`   æ ‡ç­¾,å› ä¸ºä¸éœ€è¦ä¿®æ”¹ç”¨æˆ·åæ‰€ä»¥ç›´æ¥æŠŠinputæ¢æ‰;        

```html
<el-tag type="info">{{ editUserForm.username }}</el-tag>
```

â€‹                                                                                                                                                                                                                                                                                                                                                                            

2.å±•ç¤ºç‚¹å‡»çš„é‚£ä¸ªç›®å‰å·²ç»æœ‰çš„ä¿¡æ¯

æ³¨æ„:åº”è¯¥æå‰ç»™ä¸€ä¸ªé»˜è®¤çš„å¼¹å‡ºæ¡†çŠ¶æ€å’Œæ·»åŠ æ—¶å€™è¡¨å•å¯¹è±¡çš„æ ¼å¼;

**æ³¨æ„:**ç”¨æˆ·åæ˜¯ä¸éœ€è¦è¢«ä¿®æ”¹çš„;

```js
	//æ˜¾ç¤ºç”¨æˆ·å¯¹è¯æ¡†çš„é»˜è®¤å€¼
      dialogAddUserVisible: false,
      //æ·»åŠ ç”¨æˆ·è¡¨å•å¯¹è±¡
      addUserForm: {
        username: '',
        password: '',
        email: '',
        mobile: ''
      },
```



å½“ç‚¹å‡»ç¼–è¾‘æŒ‰é’®çš„æ—¶å€™å°±åº”è¯¥æ‹¿åˆ°scope.row,æŠŠæ•°æ®å¯¹è±¡ä¼ è¿‡æ¥;å¹¶ä¸”èµ‹å€¼åˆ°ç¼–è¾‘æ¡†;

```js
// ç‚¹å‡»ç¼–è¾‘æŒ‰é’® æ˜¾ç¤ºç¼–è¾‘ç”¨æˆ·çš„å¯¹è¯æ¡†
    showEditUserDialog(row) {
      const { username, email, mobile, id } = row
      this.editUserForm.username = username
      this.editUserForm.email = email
      this.editUserForm.mobile = mobile
      this.editUserForm.id = id

      this.dialogEditUserVisible = true
    },
```



3.æ›´æ”¹åç‚¹å‡»ç¡®å®šæŠŠæ›´æ”¹åçš„æ•°æ®å‘é€ç»™åå°,æ›´æ–°åå°æ•°æ®

æ¥å£1.3.5

**ç¼–è¾‘ç”¨æˆ·**:

ç¼–è¾‘å®Œæˆæ˜¾ç¤ºå½“å‰é¡µ(this.pagenum)







# day14

### æƒé™åˆ—è¡¨é¡µé¢Rights.vue

è·å–æ‰€æœ‰çš„æƒé™,è·å–æ‰€æœ‰çš„è§’è‰²,ç»‘å®šæƒé™å’Œè§’è‰²çš„å¯¹åº”å…³ç³»;

ç”¨åˆ°è¡¨æ ¼ç»„ä»¶;

`<el-table :data="rightsList" >`

æƒé™åç§°:     prop='authName'

è·¯å¾„:      prop='path'

ç­‰çº§:     prop='level'

åœ¨methodsé‡Œå†™:

```js
loadRightsList( ) {

let res = this.$axios.get('rights/list')

}
æ³¨æ„:è¦åœ¨ä¸€è¿›å…¥é¡µé¢çš„æ—¶å€™åœ¨é’©å­å‡½æ•°createdé‡Œé¢è°ƒç”¨ä¸€æ¬¡loadRightsList( )
```

#### ç´¢å¼•

æ’ä»¶é‡Œæ‰¾è¡¨æ ¼é‡Œçš„è‡ªå®šä¹‰ç´¢å¼•,è‡ªå®šä¹‰Â `type=index`Â åˆ—çš„è¡Œå·ã€‚ ` <el-table-colum>`

type='index;  è¿™ä¸ªindexæ˜¯ä»1å¼€å§‹çš„;

:index=indexMethod( ) ;è¿™ä¸ª:indexæ˜¯ä»0å¼€å§‹çš„;

å¤„ç†ç´¢å¼•;æ³¨æ„ç‚¹:è¿”å›ä¸€ä¸ªå‚æ•°; index ä»0å¼€å§‹

indexäº‹ä»¶: 

```js
indexMethod( index) {

	return index;è¿™ä¸ªindexå°±æ˜¯ä»0å¼€å§‹çš„
}

```



#### å¤„ç†ç­‰çº§:

å†™åœ¨`<template slot-scope='scope'>` æ ‡ç­¾é‡Œ,ä½¿ç”¨è‡ªå®šä¹‰åˆ—å¤„ç†;é‡Œé¢æ”¾ä¸‰ä¸ª` <span>`æ ‡ç­¾;

v-if = 'scope.row.level == 0'  æ˜¾ç¤ºä¸€çº§;

v-elseif = 'scope.row.level == 1'  æ˜¾ç¤ºäºŒçº§;

v-else = 'scope.row.level == 2'  æ˜¾ç¤ºä¸‰çº§;

```js
<template slot-scope="scope">
   <span v-if="scope.row.level == 0">ä¸€çº§</span>
   <span v-else-if="scope.row.level == 1">äºŒçº§</span>
   <span v-else>ä¸‰çº§</span>
</template>
```



#### é¢åŒ…å±‘å¯¼èˆª

.bread



## es5è¯­æ³•:è§£æ„

```js
let obj = {
  name: 'zs',
  age: 20,
  sex: 'å¥³ç¥',
  height : 165  
}

test(obj)

//è§£æ„ç”¨æ³•
function test (obj) {
  
  // let name = obj.name;
  // let height = obj.height
  // let sex = obj.sex

  const { name, height , sex:ff } = obj

  console.log(name,height,ff);
  
}

```





## è§’è‰²åˆ—è¡¨roles

æŠ½ç¦»æˆä¸‰ä¸ªéƒ¨åˆ†:

Roles.js

Roles.html

Roles.less

é€šè¿‡srcå¼•å…¥åœ¨Roles.vueé‡Œ;

åœ¨ç»„ä»¶é‡Œæ‰¾åˆ°è¡¨æ ¼æ¨¡æ¿;

æ¥å£1.4.3 getæ–¹æ³•

è§’è‰²åç§°:      prop='roleName'

æè¿°:      prop='roleDesc'

:data='rolesList'

1.å‘é€è¯·æ±‚,åŠ è½½å·¦è¾¹è§’è‰²åˆ—è¡¨çš„æ•°æ® 

```js
async loadRolesList () {
      let res = await this.$axios.get('roles')
      console.log(res)
      this.rolesList = res.data.data
    },
```



#### ç¬¬ä¸€åˆ—ç´¢å¼•

...åŒä¹‹å‰çš„æ–¹æ³•;

å‘é€è¯·æ±‚,åŠ¨æ€è·å–è§’è‰²åˆ—è¡¨æ•°æ®;

æŠŠæ•°æ®èµ‹å€¼ç»™rolesListä¹‹å,ä¼šæŠ¥é”™ è¯´rowKey is required, å‘Šè¯‰æˆ‘ä»¬çš„éœ€æ±‚å’Œç‰ˆæœ¬ä¸èƒ½åŒ¹é…,æ‰€ä»¥éœ€è¦

element-uié‡æ–°å®‰è£…æˆ2.4.11ç‰ˆæœ¬;npm i element-ui@2.4.11

##### åœ¨element-uiæ’ä»¶tableè¡¨æ ¼=>æ‰¾åˆ°å±•å¼€è¡Œ

åœ¨roles.html;æ³¨æ„è¦åŠ templateæ ‡ç­¾;

æ ¹æ®åŠ¨æ€è¯·æ±‚å›æ¥çš„æ•°æ®ç¡®å®šä¸€å…±æœ‰å‡ è¡Œå‡ åˆ—;

#### è§’è‰²åˆ—è¡¨=>å±•å¼€è¡Œæ˜¾ç¤ºæƒé™(å·¦ä¾§)

æ ¹æ®childrençš„ä¸ªæ•°åˆ›å»º5è¡Œ` <el-row>`

å†åˆ›å»º2åˆ—` <el-col>`,å·¦è¾¹å 4,å³è¾¹å 20;

ä¸€å…±3å±‚

##### ç¬¬ä¸€å±‚  class="row1" 

` <el-row  v-for = 'item1 in scope.row.childern' :key= 'item1.id'></el-row>`

##### ç¬¬äºŒå±‚  class="row2" 

åœ¨ç¬¬ä¸€å±‚çš„ç¬¬äºŒåˆ—é‡Œå†™;

##### ç¬¬ä¸‰å±‚    class="tag" 

åœ¨ç¬¬äºŒå±‚çš„ç¬¬äºŒåˆ—é‡Œå†™;

ç»™æ¯å±‚çš„rowå–ä¸€ä¸ªclassç±»å;

æ³¨æ„:æ¯ä¸€ä¸ª` el-tag`æ ‡ç­¾ä½¿ç”¨çš„æ˜¯ç›´æ¥åœ¨æ’ä»¶é‡Œæ‰¾de å¯ç§»é™¤æ ‡ç­¾,ä¸æ˜¯åœ¨åé¢åŠ çš„Xå›¾æ ‡;

**closableå±æ€§**å¯ä»¥å®šä¹‰ä¸€ä¸ªæ ‡ç­¾æ˜¯å¦å¯ç§»é™¤ 

ç®­å¤´:ä¸€ä¸ªiæ ‡ç­¾; å­—ä½“å›¾æ ‡  æ³¨æ„:è¦å†™åœ¨el-tagæ ‡ç­¾çš„å¤–é¢;

#### åˆ†é…æƒé™(å³è¾¹)

##### 1.ç‚¹å‡»å³ä¾§,å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†;

-æ‰¾ä¸€ä¸ªæ¨¡æ¿ =>æ ‘å½¢æ§ä»¶=>é»˜è®¤å±•å¼€å’Œé»˜è®¤é€‰ä¸­ ä¿®æ”¹ä¿®æ”¹åœ¨roles.html

-é»˜è®¤ä¸€è¿›å…¥é¡µé¢æ•°æ®æ ‘æ˜¯éšè—çš„;

```js
// æ˜¯å¦æ˜¾ç¤ºåˆ†é…æƒé™å¯¹è¯æ¡†

dialogAssignRightsVisible: false,

```

roles.htmlé‡Œé¢,` el-dialog  `   :visible.sync='dialogAssignRightsVisible';



**ç»„ä»¶é‡Œçš„æ ‘å½¢æ§ä»¶:é»˜è®¤å±•å¼€å’Œé»˜è®¤é€‰ä¸­**;

æ ‘çš„æ•°æ®:data æ•°æ®

show-checkbox æ˜¯å¦å±•ç¤ºå¤šé€‰æ¡†;

:default-expanded-keys=[2,3] é»˜è®¤å±•å¼€;

åŠé€‰ä¸­;

##### 2.å±•ç¤ºæ‰€æœ‰çš„æƒé™æ•°æ®

è¿›å…¥é¡µé¢åœ¨created() {ï½é’©å­å‡½æ•°é‡Œè°ƒç”¨ä¸€ä¸‹;

åŠ è½½æƒé™ç±»åˆ«æ•°æ®loadRightsList( ) {

æ¥å£:1.4.1 getè¯·æ±‚;

}

```js
defaultProps: {
     // children : ç»“æ„
     children: 'children',
     // label : æ˜¾ç¤ºåç§°
     label: 'authName'
}
```



##### 3.å±•ç¤ºå·²æœ‰çš„æƒé™

å‚è€ƒ:æ ‘èŠ‚ç‚¹çš„é€‰æ‹©,é€šè¿‡keyè®¾ç½®;

æ˜¾ç¤ºå·²ç»æ‹¥æœ‰çš„æƒé™;

è¿™é‡Œæœ‰ä¸ªdomå¼‚æ­¥æ›´æ–°çš„é—®é¢˜;

åªéœ€è¦ç»™ç¬¬ä¸‰å±‚çš„idè®¾ç½®çŠ¶æ€å°±å¯ä»¥äº†

3.2è·å–å½“å‰è§’è‰²çš„ç¬¬ä¸‰å±‚id;æ‰€ä»¥åœ¨@ç‚¹å‡»çš„æ—¶å€™å°±éœ€è¦æŠŠå¯¹è±¡ä¼ è¿‡å»äº†;

ä»ç¬¬ä¸€å±‚éå†åˆ°ç¬¬ä¸‰å±‚;

##### 4.å‘é€è¯·æ±‚,åˆ†é…æƒé™;

éœ€è¦ä¸¤ä¸ªå‚æ•°: roleId =>ç‚¹å‡»çš„æ—¶å€™,å› ä¸ºå¯ä»¥æ‹¿åˆ°rowå¯¹è±¡,æ‰€æœ‰å¯ä»¥æ‹¿åˆ°roleId

rids=>æ‰€æœ‰çš„æƒé™id 

â€‹	@click='showAssignRIght( )'

â€‹	éœ€è¦æ‹¿åˆ°ç‚¹å‡»çš„é‚£ä¸ªçš„id,æ‰€ä»¥éœ€è¦æå‰å­˜ä¸€ä¸‹;

ridsæ˜¯æ‰€æœ‰çš„æƒé™id,åŒ…æ‹¬åŠé€‰çš„å’Œå…¨é€‰çš„;æ¨¡æ¿é‡Œå¸®æˆ‘ä»¬æä¾›äº†å¯¹åº”çš„æ–¹æ³•è·å–;

åŠé€‰ getHalfCheckedKeys( );

å…¨é€‰  getCheckedKeys( )

rids  :keys.join(' , ')         è½¬åŒ–æˆç”¨é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²å½¢å¼;

==200çš„æ—¶å€™éšè—å¯¹è¯æ¡†

æç¤ºæ›´æ–°æˆåŠŸ;

åˆ·æ–°é¡µé¢åˆ—è¡¨æ•°æ®:

this.loadRolesList( )



### usersç”¨æˆ·åˆ—è¡¨é¡µé¢ç»™ç”¨æˆ·åˆ†é…è§’è‰²

##### 1.ç‚¹å‡»æŒ‰é’®å¼¹å‡ºå¯¹è¯æ¡†

æ’ä»¶==>Dialogå¯¹è¯æ¡†==>è‡ªå®šä¹‰å†…å®¹

:visible.sync='dialogAssignRoleVisible'

åœ¨users.jsé‡Œ,åœ¨dataæ•°æ®é‡Œè®¾ç½®

```js
 // åˆ†é…è§’è‰² : æ˜¯å¦æ˜¾ç¤ºåˆ†é…è§’è‰²å¯¹è¯æ¡†  false ä¸æ˜¾ç¤º
  dialogAssignRoleVisible: false,
```

// ç»™htmlé‡Œçš„è¡¨å•å–å`<el-form :model="assignRoleForm" >`

// jsé‡Œ.é»˜è®¤å…ˆç»™assignRoleFormè¡¨å•å†…å®¹ä¸€ä¸ªç©ºå¯¹è±¡{ }

// ç»™formè®¾ç½®å®½åº¦ label-width="80px"

ç”¨æˆ·ååé¢æ˜¯tagæ ‡ç­¾,æ‰€ä»¥æŠŠinputåˆ é™¤æ¢æˆtagæ ‡ç­¾;

```js
<el-tag>{{assignRoleForm.username}}</el-tag>
//assignRoleForm.username æ˜¯ä»jsä¸­åˆ†é…è§’è‰²è¡¨å•å¯¹è±¡ä¸­è·å–çš„
	ğŸ™ƒ// åˆ†é…è§’è‰²è¡¨å•å¯¹è±¡
      assignRoleForm: {
        username:'æµ‹è¯•',
      }

```



```js
<el-select v-model="assignRoleForm.rid" placeholder="è¯·é€‰æ‹©è§’è‰²">
     <el-option label="åŒºåŸŸä¸€" value="shanghai"></el-option>
</el-select>
<!--æ³¨æ„: ğŸ’¦label : å±•ç¤ºçš„æ˜¯æ¸²æŸ“åˆ°é¡µé¢çš„æ•°æ®  value:æ”¶é›†è§’è‰²id,æ‰æ˜¯ä¸ridç»‘å®šçš„å€¼,æ‰€ä»¥åŠ¨æ€ç»‘å®šçš„ridæ‹¿åˆ°çš„æ˜¯valueçš„å€¼ğŸ’¦-->
```



**rid :è§’è‰²id    æ˜¯æ¥å£é‡Œæä¾›çš„å‚æ•°**

##### 2.å±•ç¤ºæ‰€æœ‰çš„è§’è‰²åˆ—è¡¨   æ¥å£:1.4.8

```js
loadrolesList( ) {
// æ³¨æ„:è¿™ä¸ªå‡½æ•°åº”è¯¥å…ˆåœ¨createdé‡Œé¢è°ƒç”¨ä¸€ä¸‹

}

```

//æŠŠå‘é€è¯·æ±‚è·å–åˆ°çš„è§’è‰²åˆ—è¡¨åœ¨dataæ•°æ®é‡Œä¿å­˜ä¸€ä¸‹

â€‹     rolesList: [  ]

// æŠŠå‘é€è¯·æ±‚æ‹¿åˆ°çš„æ•°æ®èµ‹å€¼ç»™rolesList

â€‹      this.rolesList = res.data.data	

```js
async loadRolesList() {
      let res = await this.$axios.get('roles')
      console.log(res)
      // æŠŠæ‹¿åˆ°çš„æ•°æ®èµ‹å€¼ç»™rolesList
      this.rolesList = res.data.data
    }
```

##### åœ¨el-optionæ ‡ç­¾é‡Œéå†æ‰€æœ‰çš„è§’è‰²;v-for

label : å±•ç¤ºçš„item.rikeName

```js
<el-option v-for='item in rolesList' :key=item.id :label="item.roleName" :value="item.id"></el-option>
//æ³¨æ„:label : å±•ç¤ºçš„æ˜¯æ¸²æŸ“åˆ°é¡µé¢çš„æ•°æ®  value:æ”¶é›†è§’è‰²id,æ˜¯ä¸ridç»‘å®šçš„å€¼ æ˜¯å‘é€è¯·æ±‚è·å–çš„id
//:label="item.roleName" ğŸ’¦å› ä¸ºæ•°æ®çš„åŠ¨æ€çš„,æ‰€ä»¥å‰é¢åŠ å†’å·
```



##### 3.å±•ç¤ºè‡ªå·±å½“å‰çš„è§’è‰²

- ç»™è§’è‰²åˆ†é…æŒ‰é’®æ³¨å†Œç‚¹å‡»äº‹ä»¶@click = 'showAssignRoleDialog' ,

- æ³¨æ„:è¿™é‡Œåœ¨æ³¨å†Œäº‹ä»¶çš„æ—¶å€™å°±æŠŠ@click = 'showAssignRoleDialog(scope.row) ä¼ é€’è¿‡å»,ä¸ºåé¢è·å–é‡Œé¢çš„æ•°æ®åšé“ºå«;

- å½“ç‚¹å‡»çš„æ—¶å€™å¼¹å‡ºå¯¹è¯æ¡†å±•ç¤ºçš„æ˜¯å½“å‰ç‚¹å‡»çš„ç°æœ‰è§’è‰²;

- æ‰€ä»¥ä¸€å¼€å§‹å¯¹è¯æ¡†æ˜¯é»˜è®¤éšè—çš„;

- ```js
  showAssignRoleDialog () {
      
        this.dialogAssignRoleVisible=true
  
  }
  ```



##### 4.æäº¤ç»™åå°åˆ†é…åçš„è§’è‰²;





# day15

## ä¸€.åˆ†é…è§’è‰²,usrs.htmlé¡µé¢

#### 1.å¼¹å‡ºå¯¹è¯æ¡†

æ³¨å†Œ@click='showAssignRoleDialog( )'

#### 2.æ˜¾ç¤ºæ‰€æœ‰çš„è§’è‰²

#### 3.æ˜¾ç¤ºè‡ªå·±å½“å‰çš„è§’è‰²

é€šè¿‡ä¼ å€¼,æ‹¿åˆ°row (rowé‡Œåªèƒ½æ‹¿åˆ°username, id),ridéœ€è¦é€šè¿‡1.3.4æ¥å£å‘é€è¯·æ±‚è·å–;

id  æ¥å£é‡Œçš„ç”¨æˆ·id

rid æ¥å£é‡Œæä¾›çš„è§’è‰²idå:  

**æ³¨æ„**:æ¥å£1.3.4é‡Œæ ¹æ®ç”¨æˆ·idè·å–ä¸€ä¸ªç”¨æˆ·è§’è‰²id

å‘é€ä¸€ä¸ªè¯·æ±‚

```js
let res = await this.$axios.get('users/'+id)
//resæ•°æ®é‡Œæœ‰è¦è·å–çš„rid
```

rid= -1,æ˜¯æ²¡æœ‰åˆ†é…è¿‡è§’è‰²çš„æ¸…ç©º

è¦æ±‚:å¦‚æœæ²¡æœ‰åˆ†é…è§’è‰²,åº”è¯¥æ˜¾ç¤º'è¯·é€‰æ‹©è§’è‰²';

éœ€è¦rid='' ç©ºå­—ç¬¦ä¸²;è¿™é‡Œéœ€è¦ä¸‰å…ƒåˆ¤æ–­ä¸€ä¸‹

```js
this.assignRoleForm.rid = res.data.data.rid===-1 ? '' :res.data.data.ridthis

```



#### 4.æäº¤è¯·æ±‚,åˆ†é…æ–°çš„è§’è‰²

æ‰¾åˆ°` ç¡®å®š`æŒ‰é’®æ³¨å†Œç‚¹å‡»äº‹ä»¶@click='startAssignRole';

å‘é€è¯·æ±‚,æ¥å£:1.3.7 putè¯·æ±‚

```js
async startAssignRole() {
    
const {id,rid } = this.assignRoleForm
let res = await.....
åˆ¤æ–­===200 {
//å…³é—­å¯¹è¯æ¡†
//æç¤º
}
//åˆ·æ–°åˆ—è¡¨(å¦‚æœè¦ä¿ç•™åœ¨ä¿®æ”¹çš„é‚£é¡µ
    this.loadUsersList(this.pagenum)
}
}
```



## äºŒ.è§£å†³é—®é¢˜:

### 1.ç‚¹å‡»å¯¹åº”çš„é¡µç ä¹‹ååˆ·æ–°ç»§ç»­ä¿ç•™åœ¨å½“å‰é¡µusers.js

æ€è·¯:åˆ©ç”¨urlåœ°å€åˆ·æ–°ä¸ä¼šå»é™¤çš„ç‰¹ç‚¹,æŠŠé¡µç ä½œä¸ºå‚æ•°æ”¾è¿›å»;

**è·¯å¾„==>é¡µé¢(ä¸Š->ä¸‹)** 

éœ€è¦ä¿®æ”¹æˆåŠ¨æ€è·¯ç”± , åœ¨route.jsé‡Œ,æ¥æ”¶å‚æ•°,` path:'/users/:page?'`

**åœ¨users.jsé‡Œè·å–urlè·¯å¾„ä¸‹çš„é¡µç **

```js
//è·å–urlè·¯å¾„ä¸‹çš„é¡µç 
conconst curpage = this.$route.params.page
//console.log(curpage)
//è·å–åˆ°çš„æ˜¯åˆ·æ–°ä¹‹å‰æ‰€åœ¨çš„é¡µç 

ğŸ’¦åœ¨createdå‡½æ•°é‡Œ,åŠ è½½é¡µç æ˜¯ä¼ å…¥curpage
this.loadUsersList(curpage)
//è¿™æ ·å°±å¯ä»¥è¯·æ±‚åˆ°ä¹‹å‰åˆ·æ–°ä¹‹å‰çš„é¡µç å¯¹åº”çš„æ•°æ®äº†;
```



**é¡µé¢==>è·¯å¾„(ä¸‹->ä¸Š)**

åœ¨changePage( ) {  } é‡Œé¢å†™

é€šè¿‡ç¼–ç¨‹å¼å¯¼èˆªè·³è½¬;

```js
// ğŸ™ƒè¿™é‡Œé€šè¿‡ç¼–ç¨‹å¼å¯¼èˆªè·³è½¬,è§£å†³ç‚¹å‡»é¡µç åˆ·æ–°ä¹‹åé¡µç è·³å›é»˜è®¤çš„é—®é¢˜

   this.$route.push('/users/'+curPage)
```



## ä¸‰.å·¦ä¾§æ åŠ¨æ€åŒ–(home.vueé¡µé¢)

#### 1.è¦æ ¹æ®ç™»é™†çš„ç”¨æˆ·ä¸åŒåŠ¨æ€è·å–å·¦ä¾§æ çš„æ˜¾ç¤ºæ•°æ®;

**æ¥å£:1.4.2  å·¦ä¾§èœå•æƒé™**

åŠ¨æ€è·å–å·¦ä¾§æƒé™loadMenus()

åœ¨é’©å­å‡½æ•°é‡Œä¸€è¿›é¡µé¢è°ƒç”¨ä¸€ä¸‹

```
async loadMenus() {
let res = await this.$axios.get('menus')
...
}

```

æ³¨æ„:è·å–resä¹‹å,åœ¨dataé‡Œé¢„å­˜ä¸€ä¸ªç©ºæ•°ç»„ menus:[ ]

- 1.åœ¨home.vue`el-submenu`é‡Œéå†;

```js
v-for='item1 in menus' :key='item1.id
```



- 2.æ•°æ®é‡Œé¢è¿˜æœ‰è‡ªå·±çš„å­å…ƒç´ children;å†åœ¨`<el-menu-item> `éå†

```js
 v-for="item2 in item.children" :key="item2.id"
```

#### 2.è§£å†³å…³é—­ç¬¬ä¸€ä¸ªèœå•å…¶ä»–éƒ½è·Ÿç€ä¸€èµ·å…³é—­çš„é—®é¢˜:

```
2.1 è¦ä¿è¯ç¬¬ä¸€å±‚çš„indexå”¯ä¸€;è®©index = 'item1.id';

	éœ€è¦çš„æ˜¯ä¸ªå­—ç¬¦ä¸²ç±»å‹,æ‰€ä»¥index = 'item1.id+'' '

2.2 ç¬¬äºŒå±‚çš„indexä¹Ÿå”¯ä¸€

	:index=" '/'  +item2.path"

```



#### 3.é«˜äº®:è§£å†³åˆ·æ–°é¡µç ä¹‹åè¿˜ä¿ç•™åœ¨åˆ·æ–°ä¹‹å‰é¡µé¢çš„é—®é¢˜

åœ¨ ` <el-menu> `é‡Œè®¾ç½®æ ·å¼

:default-active =' $route.path'



## å››.å•†å“ç®¡ç†é‡Œé¢çš„å•†å“åˆ†ç±»

#### 1.åˆ›å»ºä¸€ä¸ªç»„ä»¶Categories.vue

```
Categories.htmlé¡µé¢

Categories.jsé¡µé¢

Categories.lessé¡µé¢

```



#### 2.è·¯ç”±çš„4æ­¥éª¤:

```
1.å…¥å£

2.è§„åˆ™

3.å¼•å…¥

4.å‡ºå£

```



#### 3.å•†å“æ•°æ®åˆ—è¡¨ æ¥å£1.5.1,å‘é€è¯·æ±‚,è·å–é¡µé¢æ•°æ®

```js
 async loadCategoriesList () {
     //å‘é€è¯·æ±‚
      let res = await this.$axios.get('categories', {
        params: {
          type: 3,
          pagenum: 1,
          pagesize: 4
        }
      })
      console.log(res)
      this.catList = res.data.data.result
    }
```



Table è¡¨æ ¼æ¨¡æ¿,æ”¾åœ¨ä¸€ä¸ªdivé‡Œ

- el-table çš„åå­—æ˜¯      :data="catList" 

- label="æ˜¯å¦æœ‰æ•ˆ",prop="cat_deleted" ;æ˜¯å¦æœ‰æ•ˆ:è·å–åˆ°çš„å€¼æ˜¯true/false  å¸ƒå°”ç±»å‹çš„,ä¸èƒ½æ­£å¸¸èµ‹å€¼,éœ€è¦å€ŸåŠ©è‡ªå®šä¹‰åˆ—å¤„ç†;

```js
 #æ˜¯å¦æœ‰æ•ˆ,å…ˆå†™ä¸ªtemplateæ ‡ç­¾,å†åœ¨é‡Œé¢å†™spanæ ‡ç­¾;
<el-table-column prop="cat_deleted" label="æ˜¯å¦æœ‰æ•ˆ" width="180">
    <template slot-scope="scope">
        <span>{{ scope.row.cat_deleted ? 'å¦' : 'æ˜¯' }}</span>
    </template>
</el-table-column>
```



#### 4.æ·»åŠ åˆ†ç±»æŒ‰é’®

ä¸€ä¸ª<` el-button type='success' plain>`æŒ‰é’®å°±å¯ä»¥äº†

#### 5.ç‚¹å‡»å·¦ä¾§ç®­å¤´æœ‰æ˜¾ç¤ºä¸‰çº§ç›®å½•

ğŸ™ƒ**5.1éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ’ä»¶:element-tree-grid**

å®‰è£…:npm install element-tree-grid --save 

å¼•å…¥:æ”¾åœ¨main.jsé‡Œ   import.....

å…¨å±€æ³¨å†Œ:æ”¾åœ¨main.jsé‡Œ

```js
// å¼•å…¥+æ³¨å†Œ
import ElTreeGrid from 'element-tree-grid';
Vue.component(ElTreeGrid.name, ElTreeGrid);
```



æ‹·è´æ¨¡æ¿` el-table-tree-column`

```js
//æ¨¡æ¿
<el-table-tree-column
  file-icon="icon icon-file" //ç®­å¤´
  folder-icon="icon icon-folder" //è¡¨ç¤ºæ˜¯æ–‡ä»¶å¤¹çš„å½¢å¼
  prop="cat_name"
  label="åˆ†ç±»åç§°"
  width="220">

</el-table-tree-column>
```

prop='cat_name'

label='åˆ†ç±»åç§°'

æŠŠäº‹ä»¶çš„åˆ†ç±»åç§°åˆ—æ³¨é‡Šæ‰,å› ä¸ºæ¨¡æ¿é‡Œæœ‰å¯ä»¥ä»£æ›¿çš„;

##### 5.2è§£å†³ç‚¹å‡»ç®­å¤´å±•å¼€çš„æ—¶å€™æ˜¾ç¤ºçš„ä½ç½®åœ¨å½“å‰ç‚¹å‡»çˆ¶å…ƒç´ çš„ä¸‹é¢çš„é—®é¢˜;

```js
æ·»åŠ å‡ ä¸ªå±æ€§:åœ¨el-table-tree-columnæ ‡ç­¾é‡Œ

1. treeKeyå±æ€§:     tree-key=' cat_id' =>ä½¿ç”¨è¿™ä¸ªå¯ä»¥å»æ‰¾å‡†è‡ªå·±çš„å­èŠ‚ç‚¹çš„

2. parentKeyå±æ€§:     parent-key=' cat_pid'   => è¿™ä¸ªèƒ½å¤Ÿæ‰¾å‡†è‡ªå·±çš„çˆ¶èŠ‚ç‚¹

3. levelKeyå±æ€§:     level_key = 'cat_level'  =>æ ¹æ®å±‚çº§è¿›è¡Œé€‚å½“çš„ç¼©è¿›

4. indenttSizeå±æ€§:    :indentt-size='30'; (30éœ€è¦çš„ä¸ªæ•°å­—ç±»å‹) => å†æ¬¡ç¼©è¿›30pxçš„è·ç¦»;

#æ³¨æ„:
å› ä¸º30éœ€è¦çš„æ˜¯ä¸ªæ•°å­—ç±»å‹,æ‰€ä»¥å‰é¢åŠ ä¸ªå†’å·

```



## 6.æ·»åŠ åˆ†ç±»

```js
1.ç‚¹å‡»æ·»åŠ åˆ†ç±»æŒ‰é’®,æ³¨å†Œç‚¹å‡»äº‹ä»¶,ç‚¹å‡»æ˜¾ç¤ºä¸€ä¸ªå¯¹è¯æ¡†;
@click='showAddCatVisible',æ˜¾ç¤ºæ·»åŠ åˆ†ç±»å¼¹æ¡†
:visible.sync='dialogAddCatVisible'

2.å¯¹è¯æ¡†çš„æ¨¡æ¿ ==>dialogå¯¹è¯æ¡†==>è‡ªå®šä¹‰å†…å®¹
<el-dialog :visible.sync="dialogAddCatVisible">
<el-form :model="addCatForm">

#3.çº§è”é€‰æ‹©å™¨Cascader  
elementç»„ä»¶é‡Œæœ‰:å‚è€ƒCascaderçº§è”é€‰æ‹©å™¨==>é€‰æ‹©å³æ”¹å˜;
â€‹```
<el-cascader
  v-model="addCatForm.cat_pid_arr"
  :options="options"  //å¯é€‰é¡¹æ•°æ®æº,æ˜¯æ•°ç»„ç±»å‹
  change-on-select
  :props="defaulProps"  //é…ç½®é€‰é¡¹
</el-cascader>
â€‹```
-åˆ†ææ¨¡æ¿:
change-on-selecté€‰æ‹©å³æ”¹å˜
#å‚æ•° :options="options" å¯é€‰é¡¹æ•°æ®æº;é”®åå¯é€šè¿‡ props å±æ€§é…ç½®;æ˜¯æ•°ç»„ç±»å‹;

#æ³¨æ„:
æŠŠel-cascaderæ¨¡æ¿åŠ åœ¨el-form-item æ ‡ç­¾é‡Œ;
çº§è”é€‰æ‹©å™¨æ•°æ®options æ”¾åœ¨dataé‡Œ,æ˜¯ä¸€ä¸ªæ•°ç»„;

#æ¥å£:1.5.2  
åˆ†ç±»åç§°: cata_name 
-æ‰€ä»¥<input>æ ‡ç­¾ä¸Šv-model="addCatForm.cata_name";

-ç»™çº§è”é€‰æ‹©å™¨<el-cascader>ä¸Šä¹Ÿç»‘å®šä¸€ä¸ªv-model='addCatForm.cat_pid_arr'; cat_pid_arræ˜¯è‡ªå®šä¹‰çš„,åˆ°æ—¶å€™å­˜çš„æ˜¯ä¸€ä¸ª*æ•°ç»„*;
-æŠŠåŒå‘ç»‘å®šçš„ä¸¤ä¸ªåç§°æ”¾åœ¨dataæ•°æ®é‡Œçš„è¡¨å•å¯¹è±¡é‡Œ
â€‹```
// æ·»åŠ åˆ†ç±»è¡¨å•å¯¹è±¡
      addCatForm: {
        cat_name: '',
        cat_pid_arr: []
      },
â€‹```


```



```js
è·å–åˆ†ç±»åˆ—è¡¨æ•°æ®(2)çº§   
æ¥å£1.5.1

#å› ä¸ºä¹‹å‰å·²ç»è·å–è¿‡3çº§åˆ—è¡¨æ•°æ®
// è·å–åˆ†ç±»åˆ—è¡¨æ•°æ® (3çº§)
â€‹```
    async loadCategoriesList () {
      let res = await this.$axios.get('categories', {
        params: {
          type: 3,  // 3çº§æ•°æ®
          pagenum: 1,  //ç¬¬ä¸€é¡µæ•°æ®
          pagesize: 4  //æ¯é¡µ4æ¡æ•°æ®
        }
      })
      console.log(res)
      this.catList = res.data.data.result
    }
â€‹```

//å†è·å–ä¸€æ¬¡2çº§åˆ—è¡¨æ•°æ®
â€‹```
  // è·å–åˆ†ç±»åˆ—è¡¨æ•°æ® (2çº§)
    async loadCategoriesList2 () {
      let res = await this.$axios.get('categories', {
        params: {
          type: 2
        }
      })
      console.log(res)
      this.options = res.data.data
    }
â€‹```		
#æ³¨æ„:
è¿™é‡ŒæŠŠçœŸå®æ•°æ®èµ‹å€¼ç»™optionä¹‹å,å‡ºç°äº†æœ‰ç»“æ„,æ²¡æœ‰æ˜¾ç¤ºæ–‡å­—çš„æƒ…å†µ;
#è§£å†³åŠæ³•:
-é»˜è®¤æƒ…å†µä¸‹:
label:è´Ÿè´£æ˜¾ç¤ºæ ‡é¢˜
children è´Ÿè´£ç»“æ„
value è´Ÿè´£æ”¶é›†æ•°æ®;

-çœŸå®æƒ…å†µä¸‹:
#é…ç½®é¡¹éœ€è¦æ ¹æ®æ•°æ®åšå‡ºä¿®æ”¹:
jsé‡Œ,
defaulProps:{
label: cat_name è´Ÿè´£æ˜¾ç¤ºæ ‡é¢˜
children: children è´Ÿè´£ç»“æ„
value: cart_id  è´Ÿè´£æ”¶é›†æ•°æ®
}
#propså‚æ•°:è§å‚è€ƒ
#åœ¨htmlé‡Œ,:props="defaulProps"å‰é¢åŠ å†’å·æ˜¯å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡,åŠ å†’å·å¯ä»¥æ‹¿åˆ°å®ƒæœ¬æ¥çš„ç±»å‹,ä¸åŠ åˆ™æ‹¿åˆ°çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²;

-ç»™ç¡®å®šæŒ‰é’®æ³¨å†Œç‚¹å‡»äº‹ä»¶@click='startAddCat'
å‘é€è¯·æ±‚
çˆ¶ç±»çˆ¶id:
cate_name
å±‚çº§=æ•°ç»„çš„é•¿åº¦:
===201
å…³é—­å¯¹è¯æ¡†
åˆ·æ–°åˆ—è¡¨

```

ğŸ™ƒğŸ™ƒğŸ™ƒğŸ™ƒğŸ™ƒğŸ™ƒğŸ™ƒğŸ™ƒğŸ™ƒğŸ™ƒğŸ™ƒğŸ™ƒğŸ™ƒğŸ™ƒ

### å•†å“åˆ—è¡¨  

#### åˆ›å»ºå•†å“ç»„ä»¶goods.vue

æ‰¾è¡¨æ ¼æ¨¡æ¿ç»“æ„æ”¾å…¥template;

å•†å“åˆ—è¡¨   æ¥å£1.6.1

jsé‡Œ goodList:[  ]



```js
async loadGoodsList () {
    //å‘é€è¯·æ±‚  query,pagenum,pagesizeéƒ½æ˜¯æ¥å£é‡Œæä¾›çš„å‚æ•°
      let res = await this.$axios('goods', {
        params: {
          query: '',
          pagenum: 1,
          pagesize: 4
        }
      })
      console.log(res)
      this.goodsList = res.data.data.goods
    }
// åœ¨é’©å­å‡½æ•°é‡Œè°ƒç”¨ä¸€ä¸‹
```



#### æ—¶é—´æˆ³,ä½¿ç”¨è‡ªå®šä¹‰åˆ—

åˆ›å»ºæ—¶é—´éœ€è¦å¼•å…¥è‡ªå®šä¹‰åˆ—,**ä½¿ç”¨è¿‡æ»¤å™¨å¤„ç†,è¿‡æ»¤å™¨ç®¡é“**

```js
# htmlé¡µé¢:
ç”¨templateæ ‡ç­¾åŒ…è£¹ä¸€ä¸ªspanæ ‡ç­¾;
` <span>{{scope.row.add_time | dateFilter}}</span> `

â€‹```jsé‡Œ
filters: {
    dateFilter (res) {
      return moment(res).format('YYYY-MM-DD hh:mm:ss')
    }
  }
â€‹```

-éœ€è¦å®‰è£…moment : npm i moment

-å¼•å…¥åœ¨js:  import moment from "moment"; 

```



### æ·»åŠ å•†å“é¡µé¢goods-add 

```js
#  1.ç‚¹å‡»æ·»åŠ å•†å“æŒ‰é’®è·³è½¬åˆ°goods-addé¡µé¢;
-æ·»åŠ å•†å“æŒ‰é’®æ³¨å†Œç‚¹å‡»äº‹ä»¶@click="$router.push('/goods-add')";

2.åˆ›å»ºç»„å»ºä»½æ¨¡å—åŒ–goodsAdd.html , goodsAdd.vue , goodsAdd.js , goodsAdd.less

3.  4ä¸ªæ­¥éª¤
4.  elementæ’ä»¶æ‰¾stepsæ­¥éª¤æ¡æ¨¡æ¿
	:active="activeStep"   é«˜äº®çš„æ­¥éª¤
    
â€‹```html
<el-steps :active="active" finish-status="success">
    <el-step title="ç¬¬ä¸€æ­¥" description="åŸºæœ¬ä¿¡æ¯"></el-step>
    <el-step title="ç¬¬äºŒæ­¥" description="å•†å“å›¾ç‰‡"></el-step>
    <el-step title="ç¬¬ä¸‰æ­¥" description="å•†å“å†…å®¹"></el-step>
 </el-steps>
â€‹```
    
5.æ ‡ç­¾é¡µ
```

#### æ ‡ç­¾é¡µ

```js
1.æ‰¾æ¨¡æ¿element ==>Tabs æ ‡ç­¾é¡µ  ==>ä½ç½®

-ç»„ä»¶çš„ä½ç½®æœ‰å››ä¸ªæ–¹å‘éƒ½å¯ä»¥é€‰æ‹©;  <el-tabs tabPosition="left/right/top/bottom">
    
-ç»„ä»¶æä¾›çš„äº‹ä»¶tab-click,tabè¢«é€‰ä¸­æ—¶å€™è§¦å‘,å›è°ƒå‚æ•°æ˜¯è¢«é€‰ä¸­çš„æ ‡ç­¾ tab å®ä¾‹;


```



#### æ­¥éª¤æ¡å’Œæ ‡ç­¾é¡µå…³è”èµ·æ¥

```js
1-ç‚¹å‡»æ ‡ç­¾é¡µåˆ‡æ¢å¯¹åº”çš„æ­¥éª¤æ¡çš„æ­¥éª¤;
2-é€šè¿‡ç‚¹å‡»æ ‡ç­¾é¡µæ¥æ§åˆ¶activeStepçš„æ”¹å˜è¾¾åˆ°å…³è”æ”¹å˜çš„ç›®çš„;dataæ•°æ®é‡Œçš„activeStepé»˜è®¤ç­‰äº1;

3-@tab-click="clickTabs"ç‚¹å‡»æ ‡ç­¾é¡µçš„æ—¶å€™å°±ä¼šè§¦å‘çš„äº‹ä»¶;
-ğŸ™ƒtabsäº‹ä»¶:ç»„ä»¶æä¾›çš„äº‹ä»¶tab-click,tabè¢«é€‰ä¸­æ—¶å€™è§¦å‘,`å›è°ƒå‚æ•°`æ˜¯è¢«é€‰ä¸­çš„æ ‡ç­¾ tab å®ä¾‹;
â€‹```
clickTabs (el) {
	// console.log(el.index)
     // é‡Œé¢æœ‰ä¸ªindex0.1.2 ä¸æ­¥éª¤æ¡çš„æ­¥éª¤å¯ä»¥å…³è”,æ‰€ä»¥æŠŠä»–å¯ä»¥èµ‹å€¼ç»™activeStep ;
	//è¿™é‡Œæ‹¿åˆ°çš„indexæ˜¯å­—ç¬¦ä¸²,éœ€è¦è½¬åŒ–æˆæ•°å­—;
      this.activeStep = +el.index + 1    
 }
â€‹```
4-ç»™æ¯ä¸ªel-tab-paneè®¾ç½®ä¸ªåˆ«å name=' one/two/three 'æ§åˆ¶æ ‡ç­¾é¡µ;
```



#### æ·»åŠ å•†å“==>åŸºæœ¬ä¿¡æ¯é¡µé¢

```js
// htmlé‡Œ:
<el-form ref="goodsAddForm" :model="goodsAddForm" label-width="80px">
    
#æ¥å£:1.6.2
-æ ¹æ®æ¥å£é‡Œçš„å‚æ•°åæŠŠhtmlé‡Œçš„åç§°ä¿®æ”¹ä¸€ä¸‹;
-å‘é€è¯·æ±‚,æŠŠè¾“å…¥çš„æ•°æ®æ”¶é›†å¹¶ä¸”æäº¤åˆ°åå°;
```



```js
-å•†å“åˆ†ç±»:3çº§çº§è”é€‰æ‹©å™¨

-è·å–æ‰€æœ‰çš„åˆ†ç±»æ•°æ®å¹¶ä¸”èµ‹å€¼ç»™options;

// è·å–æ‰€æœ‰çš„åˆ†ç±»
async loadCatList () {
//å‘é€è¯·æ±‚  æ¥å£:1.5.1
        
   let res = await this.$axios.get('categories', {
        params: {
          type: 3
        }
      })
      console.log(res.data.data)
      //æŠŠresèµ‹å€¼ç»™options
      this.options = res.data.data
    }

æ³¨æ„:é…ç½®é¡¹è¦è·Ÿåå°å‚æ•°å¯¹åº”;è¿™æ ·æ‰èƒ½ç»“æ„å’Œæ•°æ®ä¸€èµ·æ˜¾ç¤º;
åœ¨htmlé‡Œ<el-cascader>æ ‡ç­¾ä¸ŠåŠ :props="defaultProps"
```

```js
-æ˜¯å¦ä¿ƒé”€;

-å•é€‰æ¡†ç»„ä»¶æ¨¡æ¿;

â€‹```
<el-form-item label="æ˜¯å¦ä¿ƒé”€">
   <template>
     <el-radio v-model="goodsAddForm.goods_isPromotion" :label="true">æ˜¯</el-radio>
      <el-radio v-model="goodsAddForm.goods_isPromotion" :label="false">å¦</el-radio>
    </template>
 </el-form-item>
â€‹```

v-model= 'goods_isPromotion'
:label='true / fasle'

#æ³¨æ„:
å•é€‰æ¡†ç‰¹æ®Šçš„åœ°æ–¹:labelçš„å€¼ä¸å†è´Ÿè´£å±•ç¤º,è€Œæ˜¯æ”¶é›†;
è·Ÿ2çº§3çº§è”åŠ¨ç›¸å;


```



# day16

### å•†å“åˆ—è¡¨é¡µé¢çš„æ·»åŠ ä¸Šä¼ å›¾ç‰‡

ç»„ä»¶åº“==>uploadä¸Šä¼ ==>ç…§ç‰‡å¢™

`<el-upload>` 

` <el-dialog>`é‡Œé¢æ˜¯èµ·åˆ°é¢„è§ˆåŠŸèƒ½çš„ä»£ç 

æ¥å£ 1.7

æ‹·è´ä¸Šä¼ å›¾ç‰‡äº‹ä»¶æ–¹æ³•;

```js

	//dataæ•°æ® ä¸Šä¼ å›¾ç‰‡éƒ¨åˆ†
      dialogImageUrl: '',
      dialogVisible: false

	// ä¸Šä¼ å›¾ç‰‡éƒ¨åˆ†js
    handleRemove (file, fileList) {
      console.log(file, fileList)
    },
    handlePictureCardPreview (file) {
      this.dialogImageUrl = file.url
      this.dialogVisible = true
    }
```



å¦‚æœè¦æŠŠ+æ¢æˆä¸Šä¼ å›¾ç‰‡æ–‡å­—,æŠŠiæ ‡ç­¾ä¿®æ”¹æˆbutton;

**action='åŸºè·¯å¾„' +æ¥å£è·¯å¾„;**

æ¨¡æ¿é‡Œæä¾›çš„å‚æ•°:

| **on-preview** | **ç‚¹å‡»æ–‡ä»¶åˆ—è¡¨ä¸­å·²ä¸Šä¼ çš„æ–‡ä»¶æ—¶è°ƒç”¨çš„å‡½æ•°** |
| -------------- | ------------------------------------------ |
| **on-remove**  | **æ–‡ä»¶åˆ—è¡¨ç§»é™¤æ–‡ä»¶æ—¶è°ƒç”¨çš„å‡½æ•°**           |
| **on-success** | **æ–‡ä»¶ä¸Šä¼ æˆåŠŸæ—¶è°ƒç”¨çš„å‡½æ•°**               |
| action         | å¿…é€‰å‚æ•°ï¼Œä¸Šä¼ çš„åœ°å€                       |
| ğŸ™ƒheaders       | è®¾ç½®ä¸Šä¼ çš„è¯·æ±‚å¤´éƒ¨(è¦æ±‚æ˜¯ä¸ªå¯¹è±¡)           |

##### 

#### ğŸ™ƒå›¾ç‰‡ä¸Šä¼ æ­¥éª¤è§£æ:

##### **æŠŠå›¾ç‰‡ç¬¬ä¸€æ¬¡ä¸Šä¼ ç»™æœåŠ¡å™¨,æœåŠ¡å™¨è¿”å›ç»™ä¸€ä¸ªåœ°å€,æˆ‘ä»¬æŠŠè¿™ä¸ªåœ°å€å’Œå…¶ä»–çš„å•†å“åç§°,ä»·æ ¼ ,æè¿°ç­‰ç­‰goodsAddForm [ ] é‡Œçš„æ•°æ®ä¸€èµ·ä½œä¸ºä¸€ä¸ªæ•´ä½“ä¸€èµ· å†ä¸Šä¼ åˆ°æœåŠ¡å™¨;**

åœ¨htmlé‡Œ   ` <el-upload> `  åŠ ä¸Š  :on-success=' uploadSuccess'  

**åœ¨jsé‡Œ,æ‰§è¡Œå‡½æ•°å½“å›¾ç‰‡ä¸Šä¼ æˆåŠŸæ—¶çš„å‡½æ•°**

```js
uploadSuccess (res) {
   ğŸ™ƒ//console.log(res)  æ­¤æ—¶ä¼šæ‰“å°'æ— æ•ˆçš„token'
}
# æ·»åŠ è¯·æ±‚å¤´
æ‰€ä»¥,è¿™é‡Œéœ€è¦æ‰‹åŠ¨åŠ ä¸€ä¸ªè¯·æ±‚å¤´ token,åœ¨htmlçš„<el-upload>æ ‡ç­¾çš„å±æ€§ä¸Š åŠ ä¸Š :headers="headers"
å¹¶ä¸”åœ¨dataæ•°æ®é‡Œå†™ä¸Š
â€‹```
headers: {
    Authorization: localStorage.getItem('token')
}
â€‹```
```



#### è·å–ä¸Šä¼ å›¾ç‰‡çš„åœ°å€:

```js
#æ¥å£1.6.2
- å‚æ•°:   pics  ä¸Šä¼ å›¾ç‰‡çš„ä¸´æ—¶è·¯å¾„

- è·å–åˆ°çš„è·¯å¾„:

#tmp_path:ä¸´æ—¶è·¯å¾„

"tmp_uploads\c66c50a8f513eca969e45c1a9efbc225.jpg"

#url: urlè·¯å¾„

"http://47.96.21.88:8888/tmp_uploads\c66c50a8f513eca969e45c1a9efbc225.jpg"

å·¥ä½œä¸­.å›¾ç‰‡çš„åœ°å€ä½¿ç”¨url  ç°åœ¨ä½¿ç”¨ä¸´æ—¶è·¯å¾„æ˜¯å› ä¸ºæˆ‘ä»¬ç”¨çš„æ˜¯æœ¬åœ°æœåŠ¡å™¨;

â€‹```
åœ¨goodsAddForm:{

	é‡Œé¢åŠ ä¸€ä¸ªpics:[ ]

}
â€‹```
```



##### 

```js
åœ¨ä¸Šä¼ å›¾ç‰‡æˆåŠŸçš„å›è°ƒé‡Œ,ä¸Šä¼ çš„ä¸´æ—¶å›¾ç‰‡è·¯å¾„éœ€è¦æ˜¯ä¸€ä¸ªå¯¹è±¡
uploadSuccess (res) {
   console.log(res.data.tmp_path)
   // æŠŠè¿™ä¸ªä¸´æ—¶è·¯å¾„è®¾ç½®ç»™goodsAddForm
   this.goodsAddForm.pics.push({
       pic: res.data.tmp_path
   })
}
```

**å›¾ç‰‡ä¸‹çš„æ–‡å­—æ˜¯ä¸ªpæ ‡ç­¾**

### å•†å“åˆ—è¡¨é¡µé¢çš„å›¾ç‰‡å†…å®¹é¡µé¢

```js
æ’ä»¶:å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ’ä»¶,ç½‘å€:https://github.com/surmon-china/vue-quill-editor
åœ¨githubé‡Œé¢vue-quill-editor

1.å®‰è£…:npm install vue-quill-editor --save
2.å¼•å…¥:
	åœ¨jsé‡Œè¿˜è¦å¼•å…¥css;
```
	import 'quill/dist/quill.core.css'
	import 'quill/dist/quill.snow.css'
	import 'quill/dist/quill.bubble.css'
	```
	å¼•å…¥ç»„ä»¶æ¨¡å—
	import { quillEditor } from 'vue-quill-editor'

3.è¿˜éœ€è¦æ³¨å†Œä¸€ä¸‹;
â€‹```
	export default {
  		components: {
    	quillEditor
  		}
	}
â€‹```

```

**ä½¿ç”¨:**

**SPAå•é¡µé¢åº”ç”¨é‡Œæ˜¯ä½¿ç”¨çš„æ–¹æ³•:**

##### **æ¥å£1.6.2**

å‚æ•°: goods_introduce  ä»‹ç»

**æ–‡æœ¬ç¼–è¾‘å™¨ä»£ç è¯´æ˜:**

v-model="goodsAddForm.goods_introduce" åŒå‘æ•°æ®ç»‘å®š;**

:options="editorOption"   è®¾ç½®é¡¹,å¯ä»¥è®¾ç½®å ä½ç¬¦ç­‰;

åœ¨dataæ•°æ®é‡Œè®¾ç½®å¯Œæ–‡æœ¬é…ç½®é¡¹

â€‹```js
editorOption: {
   placeholder: 'å“ˆå“ˆ'
},
 htmlStr: `<h1 class='red'>æˆ‘æ˜¯h1</h1>`
```

**ç»™å¯Œæ–‡æœ¬è®¾ç½®é¢œè‰²å’Œé«˜åº¦;**

```js

```

â€‹			



##### **è¿™é‡Œæœ‰ä¸€ä¸ªåŠ äº†æ ·å¼ä¸ç”Ÿæ•ˆçš„é—®é¢˜:**

```js
ç»™ç¼–è¾‘å™¨åŠ äº†å®½é«˜ç­‰æ ·å¼,åœ¨é¡µé¢ä¸­è®¾ç½®æ ·å¼æ˜¯okçš„,åœ¨lessé‡Œé¢è®¾ç½®æ ·å¼å°±ä¸ç”Ÿæ•ˆçš„é—®é¢˜;
åŸå› æ˜¯scoped:
```



#### scoped

```js
ä½œç”¨:
1.æ·»åŠ äº†scopedå±æ€§,å½“å‰ç»„ä»¶å†…çš„æ ·å¼,åªèƒ½åœ¨å½“å‰ç»„ä»¶å†…ä½¿ç”¨;
2.scopedå¯¹åŠ¨æ€æ·»åŠ çš„ç»„ä»¶æ˜¾ç¤ºæ˜¯æœ‰é—®é¢˜çš„;
```



**å¯Œæ–‡æœ¬ç¼–è¾‘å™¨å’Œv-htmléƒ½æ˜¯å±äºåŠ¨æ€æ·»åŠ çš„;**

#### è§£å†³æ–¹å¼:

```js
#æ–¹å¼1:

 åˆ é™¤styleæ ‡ç­¾ä¸Šçš„scoped(ä¸æ¨è)

#æ–¹å¼2:

 æŠŠåŠ¨æ€æ·»åŠ çš„æ ·å¼å‰ªåˆ‡æå‡ºæ¥,é‡æ–°å»ºä¸€ä¸ªstyleæ ‡ç­¾,ä¸åŠ scoped;

#æ–¹å¼3:ç©¿é€

 /deep/ ç©¿é€;  æ‰¾ä¸€ä¸ª çˆ¶å…ƒç´ /deep/å­å…ƒç´ (å­å…ƒç´ æ˜¯åŠ¨æ€çš„)

å› ä¸ºå­å…ƒç´ çš„åŠ¨æ€çš„,æ‰¾åˆ°çš„çˆ¶å…ƒç´ ä¸èƒ½æ˜¯åŠ¨æ€;.

.father /deep/ .red {

	...æ ·å¼

}
#æ–¹å¼4:

ä¸èƒ½ç”¨åœ¨lessçš„åç¼€æ–‡ä»¶é‡Œ,å¯ä»¥ç”¨åœ¨cssé‡Œ,ä¿®æ”¹æ–‡ä»¶åç¼€åä¸ºcss

.father  >>>  .red {

	...æ ·å¼
	
}


```



#### **æ·»åŠ æŒ‰é’®**

```js
 // ç‚¹å‡»æ·»åŠ æŒ‰é’®æ·»åŠ å•†å“
    async addGoods() {
      const {
        goods_name,
        goods_price,
        goods_weight,
        goods_number,
        goods_cat,
        goods_isPromotion,
        pics,
        goods_introduce
      } = this.goodsAddForm
      
      //å‘é€è¯·æ±‚
      let res = await this.$axios.post('goods', {
        goods_name,
        goods_price,
        goods_weight,
        goods_number,
        goods_cat :  goods_cat.join(',')  ,
        goods_isPromotion,
        pics,
        goods_introduce
      })
      console.log(res);
        //åˆ¤æ–­
      if (res.data.meta.status === 201) {
		//æç¤º
        this.$message({
          message: 'æ·»åŠ å•†å“æˆåŠŸ',
          type : 'success'
        })
		// è·³è½¬
        this.$router.push('/goods')

      }

    }
æ³¨æ„:ql-containeræ˜¯å¯Œæ–‡æœ¬ç¼–è¾‘å™¨é‡ŒåŠ¨æ€çš„ç±»å;
```





### **æ‰“åŒ…**

#### **æ–¹æ³•:npm run build**

##### **æ‰“åŒ…å®Œä¹‹ååœ¨æ§åˆ¶å°æ˜¾ç¤ºçš„å†…å®¹åˆ†æ:**

```js
#ç¬¬ä¸€æ¬¡æ‰“åŒ…åˆ†æ
- vendor æ˜¾ç¤ºbig   ç¬¬ä¸‰æ–¹åŒ…,è¡¨ç¤ºå†…å®¹æœ‰ç‚¹å¤§;
- manifest  å¤„ç†æ¨¡å—ä¹‹é—´çš„é€»è¾‘å…³ç³»
- app  æ ·å¼

- .map  å†…éƒ¨æŸ¥æ‰¾ç”¨çš„,éå†æ˜ å°„

- appå…¥å£,åŒ…æ‹¬ä»£ç ,ç»„ä»¶,å°±æ˜¯æºç é‡Œé¢çš„main.js ==>å¼•å…¥äº†è·¯ç”± ==>è·¯ç”±é‡Œåˆå¼•å…¥äº†æ‰€ä»¥çš„ç»„ä»¶(ç™»é™†,ho0me,users.ç­‰ç­‰)
  ä¸€æ‰“å¼€é¡µé¢,åªèƒ½çœ‹åˆ°loginé¦–å±(login);
  é¦–å±æ—¶é—´:å°±æ˜¯æ‰“å¼€çœ‹åˆ°é¦–å±æ‰€éœ€è¦çš„æ—¶é—´,æ—¶é—´è¶Šå°‘è¶Šå¥½;
  é¦–å±æ—¶é—´ä½“ç°ç½‘é¡µæ€§èƒ½æ—¶é—´çš„å¥½å;
  ç°åœ¨æ˜¯æŠŠæ‰€æœ‰çš„ç»„ä»¶éƒ½åŠ è½½è¿›æ¥æ”¾åœ¨äº†appé‡Œé¢,è¿™æ ·ä¼šå»¶è¿Ÿé¦–å±æ˜¾ç¤ºæ—¶é—´,æ‰€ä»¥éœ€è¦åˆ†å‰²æˆéœ€è¦å“ªä¸ªåŠ è½½å“ªä¸ªçš„å½¢å¼;
   åˆ†å‰²:åœ¨vueæ–‡ä»¶é‡Œ==>è·¯ç”±æ‡’åŠ è½½
  ä½¿ç”¨:å¼‚æ­¥ç»„ä»¶åœ¨router.jsé‡Œ
  åˆ†å‰²æ–¹æ³•(æ³¨æ„:é¦–å±ä¸åˆ†å‰²)
  const Foo = () => import( ' ./Foo.vue
   ' )
  åˆ†å‰²ä¹‹åå†æ‰“ä¸ªåŒ… npm run build
  

```



```js
#ç¬¬äºŒæ¬¡æ‰“åŒ…åˆ†æ

å¼‚æ­¥ç»„ä»¶æ˜¾ç¤º0-6.....js

æŒ‰éœ€åŠ è½½:

æ‰“å¼€powershellçª—å£;æ¨¡ä»¿ä¸€ä¸ªhttp-sever,æµ‹è¯•ä¸€ä¸‹:æ§åˆ¶å°=>network è®¿é—®å“ªä¸ªé¡µç æ­¤æ—¶å°±æ‰åŠ è½½å“ªä¸ªæ¨¡å— çœ‹æ˜¾ç¤ºçš„å¸¦åºå·çš„æ•°å­—,å¯¹åº”åˆšåˆšçš„0-6

-endorç¬¬äºŒæ¬¡æ‰“åŒ…æ˜¾ç¤ºè¿˜æ˜¯big   

-vendor:æ‰“çš„æ˜¯æœ¬åœ°çš„åŒ…,ä½¿ç”¨ä¸€ä¸ªåœ¨çº¿çš„åŒ…vendoræ‰ä¼šè¶Šæ¥è¶Šå°



```



#### **CDN åœ¨çº¿çš„åŒ…**

**ä½¿ç”¨:**

1.å¼•å…¥åœ¨çº¿çš„åŒ…CDN  

**https://cdn.jsdelivr.net/npm/vue@2.5.2/dist/vue.min.js**

**ğŸ™ƒåœ¨index.htmlä¸­ å¼•å…¥vue**

**`<script src='https://cdn.jsdelivr.net/npm/vue@2.5.2/dist/vue.min.js'></script>`**

**2.é…ç½®:**

**åœ¨build/webpack/base/config.jsä¸­æœ«å°¾æ·»åŠ é…ç½®cdn**

```js
externals:{
   //é”®: å€¼
   //åŒ…å:å…¨å±€å˜é‡
//å¼•å…¥vue
   vue:'Vue'
//å¼•å…¥router
   'vue-router:'VueRouter'
 //å¼•å…¥element
    
}

```

```js
#ç¬¬ä¸‰æ¬¡æ‰“åŒ…

ä»¥å‰:775kb   ç°åœ¨681kb

å¼•å…¥è·¯ç”±

åœ¨index.htmlé‡Œ

<script src='...'></script>

å¼•å…¥element

åœ¨index.htmlé‡Œ

<script src='...'></script>

<link>å¼•å…¥css

å¦‚æœå¼•å…¥äº†cssè®°å¾—æŠŠé¡¹ç›®å½“æ—¶çš„cssæ³¨é‡Šæ‰,ä¸ç„¶ä¼šé‡å¤æœ¬åœ°æ‰“åŒ…

æ­¤æ—¶å†æ‰“åŒ…:

ç°åœ¨47.2kb

```





#### **bootCDNåœ°å€åœ¨å“ªé‡Œæ‰¾åˆ°?**

```js
#æ–¹å¼1.
åœ¨bootstrapç½‘ç«™ä¸‹é¢æ——ä¸‹ç½‘ç«™å¯ä»¥æ‰¾åˆ°;
#æ–¹å¼2.
æˆ–è€…ä¹Ÿå¯ä»¥åœ¨å®˜ç½‘æ‰¾;

```



##### **æ‰“åŒ…åè®¿é—®æ–¹æ³•:**

```js
å¼€å¯ä¸€ä¸ªè™šæ‹Ÿçš„æœåŠ¡å™¨  http-server
```



# **vuex**

### **1.ä»‹ç»**

**æ˜¯çŠ¶æ€ç®¡ç†å·¥å…·;**

**çŠ¶æ€å³æ•°æ®,ç®¡ç†dataé‡Œçš„æ•°æ®;**

**vuex é‡‡ç”¨çš„**

**æŠŠéœ€è¦å…±äº«çš„æ•°æ®æ”¾åˆ°vuexé‡Œç®¡ç†**





##### **ä»€ä¹ˆæ—¶å€™ç”¨vuexæŠ€æœ¯æ ˆ?**

```
å¦‚æœéœ€è¦æ„å»ºä¸€ä¸ªä¸­å¤§å‹çš„é¡¹ç›®,å¯ä»¥ä½¿ç”¨vuex
```

##### **vuexçš„åŸºæœ¬ä½¿ç”¨**

```js
1.å®‰è£…:npm i vuex;
2.å¼•å…¥<scripe src=''>
#æ³¨æ„:vuex/routeréƒ½æ˜¯ä¾èµ–vueçš„,è¦å…ˆå®‰è£…,å¼•å…¥vue
3.å®ä¾‹åŒ–ä»“åº“(æ“ä½œæ•°æ®éƒ½è¦ç»è¿‡store)
const store = new Vuex.store({
 //çŠ¶æ€:ç›¸å½“äºä¹‹å‰vueé‡Œçš„data
    state:{
       num:100 
    }
})


```



**æ³¨æ„:ç›´æ¥è·å–å’Œä¿®æ”¹æ˜¯æ²¡æœ‰é—®é¢˜çš„;ä½†æ˜¯..vuexå’Œjsä¸€æ ·,æœ‰ä¸€ä¸ªä¸¥æ ¼æ¨¡å¼;**

**æ‰€ä»¥æœ‰å¦ä¸€ä¸ªä¿®æ”¹æ•°æ®çš„æ–¹æ³•:**

```js

```



##### **vuexçš„ä¼ å‚**

```

```



##### **vuexå’Œvueçš„é…åˆä½¿ç”¨**

```
storeä¹Ÿéœ€è¦æŒ‚è½½åœ¨vue å®ä¾‹ä¸Š
```



### **todos**

**åˆå§‹åŒ–vue init webpack vuex todos**